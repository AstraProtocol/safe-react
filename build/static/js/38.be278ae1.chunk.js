(this["webpackJsonpsafe-react"]=this["webpackJsonpsafe-react"]||[]).push([[38],{2059:function(e,t,n){"use strict";var a,r,c,i=n(7),o=n(6),s=n(9),u=n(1),l=o.default.div(a||(a=Object(i.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  margin: 8px 0;\n\n  svg {\n    margin: 0 12px 0 4px;\n  }\n"]))),d=Object(o.default)(s.Divider)(r||(r=Object(i.a)(["\n  width: 100%;\n"]))),b=Object(o.default)(s.Icon)(c||(c=Object(i.a)(["\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  padding: 0 20px;\n  background: white;\n\n  & svg {\n    margin: 0;\n  }\n"])));t.a=function(e){var t=e.withArrow;return Object(u.jsxs)(l,{children:[t&&Object(u.jsx)(b,{type:"arrowDown",size:"md"}),Object(u.jsx)(d,{})]})}},2060:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(30),r=n(253),c={OPEN_APP:{event:a.a.CLICK,action:"Open Safe App"},PIN:{event:a.a.CLICK,action:"Pin Safe App"},UNPIN:{event:a.a.CLICK,action:"Unpin Safe App"},SEARCH:{event:a.a.META,action:"Search for Safe App"},ADD_CUSTOM_APP:{event:a.a.META,action:"Add custom Safe App"},TRANSACTION_CONFIRMED:{event:a.a.META,action:"Transaction Confirmed"},TRANSACTION_REJECTED:{event:a.a.META,action:"Transaction Rejected"},LEGACY_API_CALL:{event:a.a.META,action:"Legacy API call"},SHARED_APP_LANDING:{event:a.a.META,action:"Shared App landing page visited"},SHARED_APP_CHAIN_ID:{event:a.a.META,action:"Shared App chainId"},SHARED_APP_OPEN_DEMO:{event:a.a.META,action:"Open demo safe from shared app"},SHARED_APP_OPEN_AFTER_SAFE_CREATION:{event:a.a.META,action:"Open shared app after Safe creation"}},i=Object(r.a)(c,"safe-apps")},2093:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(3),r=n(50),c=n(0),i=n(15),o=n(132),s=n(26),u=n(141),l=n(384),d=n(2106),b=n(30),p=n(2060),j=function(){var e=Object(d.a)(),t=e.remoteSafeApps,n=e.status,j=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],d=t[1],b=Object(c.useState)(!1),p=Object(i.a)(b,2),j=p[0],f=p[1],O=Object(c.useCallback)((function(e){d(e),Object(o.f)(l.a,e.map((function(e){return{url:e.url}})))}),[]);return Object(c.useEffect)((function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];d((function(n){var c=Object(r.a)(n),i=c.findIndex((function(t){return t.url===e.url}));return t?c.splice(i,1):c[i]=Object(a.a)(Object(a.a)({},e),{},{fetchStatus:u.a.SUCCESS}),c}))};!function(){var t=(Object(o.b)(l.a)||[]).map((function(e){return Object(a.a)(Object(a.a)(Object(a.a)({},Object(l.f)()),e),{},{url:e.url.trim(),id:e.url.trim(),custom:!0})}));d(t),f(!0),t.forEach((function(t){Object(l.e)(t.url).then((function(t){e(Object(a.a)(Object(a.a)({},t),{},{custom:!0}))})).catch((function(n){e(t,!0),Object(s.c)(s.b._900,"".concat(t.url,", ").concat(n.message))}))}))}()}),[]),{customSafeApps:n,loaded:j,updateCustomSafeApps:O}}(),f=j.customSafeApps,O=j.updateCustomSafeApps,h=function(e,t){var n=Object(c.useState)([]),a=Object(i.a)(n,2),r=a[0],s=a[1],d=Object(c.useState)(!1),b=Object(i.a)(d,2),p=b[0],j=b[1];return Object(c.useEffect)((function(){!function(){var n=Object(o.b)(l.c)||[];if(t===u.a.SUCCESS){var a=n.filter((function(t){return e.some((function(e){return e.id===t}))}));s(a),j(!0)}}()}),[t,e]),Object(c.useEffect)((function(){t===u.a.SUCCESS&&Object(o.f)(l.c,r)}),[r,t]),{pinnedSafeAppIds:r,loaded:p,updatePinnedSafeApps:s}}(t,n),x=h.pinnedSafeAppIds,m=h.updatePinnedSafeApps,g=n===u.a.LOADING,v=Object(c.useMemo)((function(){return[].concat(Object(r.a)(t),Object(r.a)(f)).sort((function(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())}))}),[t,f]),A=Object(c.useMemo)((function(){return t.sort((function(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())}))}),[t]),w=Object(c.useMemo)((function(){return f.filter((function(e){return!t.some((function(t){return t.url===e.url}))})).sort((function(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())}))}),[f,t]),y=Object(c.useMemo)((function(){return A.filter((function(e){return x.includes(e.id)}))}),[x,A]),S=Object(c.useCallback)((function(e){var t=[].concat(Object(r.a)(f),[e]);O(t)}),[O,f]),C=Object(c.useCallback)((function(e){var t=f.filter((function(t){return t.id!==e}));O(t)}),[O,f]),k=Object(c.useCallback)((function(e){var t=e.id,n=e.name,c=Object(r.a)(x);x.includes(t)?(Object(b.d)(Object(a.a)(Object(a.a)({},p.a.UNPIN),{},{label:n})),c.splice(c.indexOf(t),1)):(Object(b.d)(Object(a.a)(Object(a.a)({},p.a.PIN),{},{label:n})),c.push(t)),m(c)}),[m,x]),E=Object(c.useCallback)((function(e){var t=new URL(e),n="".concat(t.hostname,"/").concat(t.pathname);return A.find((function(e){var t=new URL(null===e||void 0===e?void 0:e.url);if(Object(l.j)("".concat(null===t||void 0===t?void 0:t.hostname,"/").concat(null===t||void 0===t?void 0:t.pathname),n))return e}))}),[A]);return{allApps:v,appList:A,customApps:w,pinnedSafeApps:y,removeApp:C,togglePin:k,addCustomApp:S,isLoading:g,getSafeApp:E}}},2106:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(2),r=n.n(a),c=n(3),i=n(8),o=n(15),s=n(0),u=n(16),l=n(26),d=n(86),b=n(153),p=n(141),j=n(27),f=n(20),O=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(j.getSafeApps)(Object(f.b)(),{client_url:window.location.origin}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=null,x=function(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],j=Object(s.useState)(p.a.NOT_ASKED),f=Object(o.a)(j,2),x=f[0],m=f[1],g=Object(u.c)();return Object(s.useEffect)((function(){var e=function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(p.a.LOADING),e.prev=1,e.next=4,h||(h=O()),h.finally((function(){return h=null})),h;case 4:if(!(null===(t=e.sent)||void 0===t?void 0:t.length)){e.next=10;break}a(t.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{fetchStatus:p.a.SUCCESS,id:String(e.id)})}))),m(p.a.SUCCESS),e.next=11;break;case 10:throw new Error("Empty apps array \ud83e\udd2c");case 11:e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),m(p.a.ERROR),Object(l.c)(l.b._902,e.t0.message),g(Object(d.h)(b.a.SAFE_APPS_FETCH_ERROR_MSG));case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();e()}),[g]),{remoteSafeApps:n,status:x}}},2145:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var a,r,c=n(7),i=n(6),o=n(9),s=Object(i.default)(o.Title)(a||(a=Object(c.a)(["\n  text-align: ",";\n  margin: 24px 0;\n  color: inherit;\n  font-weight: ",";\n"])),(function(e){return e.centered?"center":"left"}),(function(e){return e.bold?"bold":"normal"})),u=Object(i.default)(o.Text)(r||(r=Object(c.a)(["\n  text-align: center;\n  color: #b2bbc0;\n  margin: 0 80px;\n"])))},2155:function(e,t,n){"use strict";n.d(t,"a",(function(){return B})),n.d(t,"b",(function(){return F}));var a,r,c,i,o,s,u,l,d,b,p,j,f,O,h,x=n(7),m=n(16),g=n(82),v=n(6),A=n(3082),w=n(374),y=n(9),S=n(25),C=n(731),k=n(70),E=n(86),T=n(153),I=n(141),L=n(20),z=Object(v.keyframes)(a||(a=Object(x.a)(["\n0% {\n  background-position: 0% 54%;\n}\n50% {\n  background-position: 100% 47%;\n}\n100% {\n  background-position: 0% 54%;\n}\n"]))),R=v.default.div(r||(r=Object(x.a)(["\n  height: ",";\n  width: ",";\n  border-radius: 50%;\n  background-color: lightgrey;\n  background: linear-gradient(84deg, lightgrey, transparent);\n  background-size: 400% 400%;\n  animation: "," 1.5s ease infinite;\n"])),(function(e){return"lg"===e.size?"112px":"50px"}),(function(e){return"lg"===e.size?"112px":"50px"}),z),M=v.default.div(c||(c=Object(x.a)(["\n  height: 18px;\n  width: 160px;\n  margin: 8px 0;\n\n  background-color: lightgrey;\n  background: linear-gradient(84deg, lightgrey, transparent);\n  background-size: 400% 400%;\n  animation: "," 1.5s ease infinite;\n"])),z),P=v.default.div(i||(i=Object(x.a)(["\n  height: 12px;\n  width: 240px;\n  margin: 2px 0;\n\n  background-color: lightgrey;\n  background: linear-gradient(84deg, lightgrey, transparent);\n  background-size: 400% 400%;\n  animation: "," 1.5s ease infinite;\n"])),z),D=n(5),_=n(73),N=n(1),U=(t.c=function(e){var t=e.safeApp,n=e.size,a=e.togglePin,r=e.isPinned,c=e.isCustomSafeApp,i=e.onRemove,o=Object(m.d)(k.a),s=Object(m.c)(),u=Object(_.a)().safeAddress,l=Object(S.p)(S.i.APPS,{shortName:Object(L.q)(),safeAddress:u}),d="".concat(l,"?appUrl=").concat(encodeURI(t.url));return t.fetchStatus===I.a.LOADING?Object(N.jsx)(H,{size:n,children:Object(N.jsxs)(q,{size:n,children:[Object(N.jsx)(W,{size:n,children:Object(N.jsx)(R,{size:n})}),Object(N.jsxs)(K,{size:n,children:[Object(N.jsx)(M,{}),Object(N.jsx)(P,{}),Object(N.jsx)(P,{})]})]})}):Object(N.jsx)(H,{size:n,children:Object(N.jsx)(G,{to:d,"aria-label":"open ".concat(t.name," Safe App"),children:Object(N.jsxs)(q,{size:n,children:[Object(N.jsx)(W,{size:n,children:Object(N.jsx)(V,{size:n,src:t.iconUrl,alt:"".concat(t.name||"Safe App"," Logo"),onError:U})}),Object(N.jsxs)(K,{size:n,children:[Object(N.jsx)(Y,{size:"xs",children:t.name}),Object(N.jsx)(J,{size:"lg",color:"inputFilled",children:t.description})]}),Object(N.jsxs)(X,{onClick:function(e){return e.preventDefault()},children:[Object(N.jsx)($,{onClick:function(){!function(e){var t,n,a,r,c=document.createRange();function i(t){var n;null===(n=t.clipboardData)||void 0===n||n.setData("text/plain",e),t.preventDefault()}c.selectNodeContents(document.body),null===(t=document)||void 0===t||null===(n=t.getSelection())||void 0===n||n.addRange(c),document.addEventListener("copy",i),document.execCommand("copy"),document.removeEventListener("copy",i),null===(a=document)||void 0===a||null===(r=a.getSelection())||void 0===r||r.removeAllRanges()}(Object(S.t)(t.url,o)),s(Object(E.h)(T.a.SHARE_SAFE_APP_URL_COPIED))},"aria-label":"copy ".concat(t.name," Safe App share link to clipboard"),children:Object(N.jsx)(y.Icon,{size:"md",type:"share",tooltip:"Copy share link"})}),!c&&Object(N.jsx)($,{onClick:function(){return a(t)},"aria-label":"".concat(r?"Unpin":"Pin"," ").concat(t.name," Safe App"),children:r?Object(N.jsx)(Z,{size:"md",type:"bookmarkFilled",color:"primary",tooltip:"Unpin from the Safe Apps"}):Object(N.jsx)(Z,{size:"md",type:"bookmark",tooltip:"Pin from the Safe Apps"})}),c&&Object(N.jsx)($,{onClick:function(){return null===i||void 0===i?void 0:i(t)},"aria-label":"Remove ".concat(t.name," custom Safe App"),children:Object(N.jsx)(y.Icon,{size:"md",type:"delete",color:"error",tooltip:"Remove Custom Safe App"})})]})]})})})},function(e){e.currentTarget.onerror=null,e.currentTarget.src=C.a}),B=190,F=16,H=Object(v.default)(A.a.div).attrs({layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}})(o||(o=Object(x.a)(["\n  position: relative;\n  display: flex;\n  height: ","px;\n\n  grid-column: span ",";\n"])),B,(function(e){return"lg"===e.size?"2":"1"})),G=Object(v.default)(g.a)(s||(s=Object(x.a)(["\n  display: flex;\n  flex: 1 0;\n  height: ","px;\n  text-decoration: none;\n"])),B),q=Object(v.default)(y.Card)(u||(u=Object(x.a)(["\n  flex: 1 1 100%;\n  padding: ","px;\n  display: flex;\n  flex-direction: ",";\n  box-shadow: none;\n  border: 2px solid transparent;\n\n  transition: all 0.3s ease-in-out 0s;\n  transition-property: border-color, background-color;\n\n  :hover {\n    background-color: ",";\n    border: 2px solid ",";\n  }\n"])),F,(function(e){return"lg"===e.size?"row":"column"}),D.primary200,D.primary300),W=v.default.div(l||(l=Object(x.a)(["\n  flex: 0 0;\n  flex-basis: ",";\n\n  display: flex;\n  justify-content: ",";\n  align-items: center;\n"])),(function(e){return"lg"===e.size?"50%":"auto"}),(function(e){return"lg"===e.size?"center":"start"})),V=v.default.img(d||(d=Object(x.a)(["\n  height: ",";\n  width: ",";\n  object-fit: contain;\n"])),(function(e){return"lg"===e.size?"112px":"50px"}),(function(e){return"lg"===e.size?"112px":"50px"})),K=v.default.div(b||(b=Object(x.a)(["\n  flex: 0 0;\n\n  flex-basis: ",";\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"])),(function(e){return"lg"===e.size?"50%":"auto"})),Y=Object(v.default)(y.Title)(p||(p=Object(x.a)(["\n  margin: 8px 0px;\n  font-size: 16px;\n  line-height: 22px;\n  font-weight: bold;\n  color: initial;\n"]))),J=Object(v.default)(y.Text)(j||(j=Object(x.a)(["\n  margin: 0;\n  line-height: 22px;\n\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n"]))),X=v.default.div(f||(f=Object(x.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n\n  margin: 16px 12px;\n"]))),$=Object(v.default)(w.a)(O||(O=Object(x.a)(["\n  padding: 8px;\n\n  && svg {\n    width: 16px;\n    height: 16px;\n  }\n"]))),Z=Object(v.default)(y.Icon)(h||(h=Object(x.a)(["\n  padding-left: 2px;\n"])))},2173:function(e,t,n){"use strict";var a,r,c=n(7),i=(n(0),n(6)),o=n(9),s=n(1),u=Object(i.default)(o.Icon)(a||(a=Object(c.a)(["\n  position: relative;\n  top: 4px;\n  padding-right: 4px;\n"]))),l=Object(i.default)(o.Text)(r||(r=Object(c.a)(["\n  display: block;\n  font-size: 12px;\n  font-weight: bold;\n  overflow-wrap: anywhere;\n  background-color: #effaf8;\n  padding: 10px 15px 10px 10px;\n  border-radius: 8px;\n  max-width: 75%;\n  ","\n"])),(function(e){return e.showInOneLine&&"overflow-y: hidden;\n     white-space: nowrap;\n     "}));t.a=function(e){var t=e.url,n=e.showInOneLine;return Object(s.jsxs)(l,{size:"xl",showInOneLine:!!n,children:[Object(s.jsx)(u,{type:"check",color:"primary",size:"sm"})," ",t]})}},2188:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return b}));var a=n(15),r=n(91),c=n(10),i=n(3),o=n(299),s="APPS_DASHBOARD",u=function(){return o.a.getItem(s)||{}},l=function(e){var t,n,a=u(),r=(null===(t=a[e])||void 0===t?void 0:t.openCount)||0,l=(null===(n=a[e])||void 0===n?void 0:n.txCount)||0;o.a.setItem(s,Object(i.a)(Object(i.a)({},a),{},Object(c.a)({},e,{timestamp:Date.now(),openCount:r+1,txCount:l})))},d=function(e){var t,n=u(),a=(null===(t=n[e])||void 0===t?void 0:t.txCount)||0;o.a.setItem(s,Object(i.a)(Object(i.a)({},n),{},Object(c.a)({},e,Object(i.a)(Object(i.a)({},n[e]),{},{txCount:a+1}))))},b=function(e,t){var n,a=p(e),c=Object(r.a)(t);try{for(c.s();!(n=c.n()).done;){var i=n.value;a[i.id]?a[i.id]+=10:a[i.id]=10}}catch(o){c.e(o)}finally{c.f()}return Object.entries(a).sort((function(e,t){return t[1]-e[1]})).map((function(e){return e[0]}))},p=function(e){var t,n,c,i,o,s={},u=Object.entries(e).sort((function(e,t){return e[1].timestamp-t[1].timestamp})),l=Object(r.a)(u.entries());try{for(l.s();!(t=l.n()).done;){var d=Object(a.a)(t.value,2),b=d[0],p=d[1],j=(n=b,c=0,i=u.length,(o=1)+(n-c)*(2-o)/(i-c));s[p[0]]=(2*p[1].txCount+1*p[1].openCount)*j}}catch(f){l.e(f)}finally{l.f()}return s}},2230:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(50),r=n(15),c=n(0),i=n(262),o=n(132),s=n(2093),u="APPS_SECURITY_FEEDBACK_MODAL",l=function(){var e=Object(c.useRef)(!1),t=Object(s.a)(),n=t.isLoading,l=t.getSafeApp,d=(0,Object(i.a)().getAppUrl)(),b=Object(c.useState)([]),p=Object(r.a)(b,2),j=p[0],f=p[1],O=Object(c.useState)(!1),h=Object(r.a)(O,2),x=h[0],m=h[1],g=Object(c.useState)([]),v=Object(r.a)(g,2),A=v[0],w=v[1],y=Object(c.useState)(!1),S=Object(r.a)(y,2),C=S[0],k=S[1],E=Object(c.useState)(!1),T=Object(r.a)(E,2),I=T[0],L=T[1];Object(c.useEffect)((function(){var e=Object(o.b)(u)||{appsReviewed:[],extendedListReviewed:!1,customAppsReviewed:[],consentAccepted:!1};e&&(f(e.appsReviewed),m(e.extendedListReviewed),w(e.customAppsReviewed),k(e.consentAccepted))}),[]),Object(c.useEffect)((function(){d||L(!1)}),[d]),Object(c.useEffect)((function(){e.current?Object(o.f)(u,{appsReviewed:j,extendedListReviewed:x,customAppsReviewed:A,consentAccepted:C}):e.current=!0}),[j,C,A,x]);var z=Object(c.useMemo)((function(){return!!d&&!!l(d)}),[l,d]),R=Object(c.useMemo)((function(){var e;if(!d)return!0;var t=null===(e=l(d))||void 0===e?void 0:e.id;return t?!(null===j||void 0===j?void 0:j.includes(t)):!(null===A||void 0===A?void 0:A.includes(d))}),[j,A,l,d]),M=Object(c.useMemo)((function(){return!n&&e.current&&(!C||z&&R||!z&&R&&!I)}),[C,I,R,n,z]),P=Object(c.useCallback)((function(e){var t;k(!0);var n=null===(t=l(d))||void 0===t?void 0:t.id;if(n&&!j.includes(n)){var r=[].concat(Object(a.a)(j),[n]);f(r)}else if(e&&!A.includes(d)){var c=[].concat(Object(a.a)(A),[d]);w(c)}x||m(!0),L(!0)}),[j,A,x,l,d]),D=Object(c.useCallback)((function(e){var t=A.filter((function(t){return t!==e}));w(t)}),[A]);return{isModalVisible:M,isSafeAppInDefaultList:z,isFirstTimeAccessingApp:R,isConsentAccepted:C,isExtendedListReviewed:x,onComplete:P,onRemoveCustomApp:D}}},2231:function(e,t,n){"use strict";var a,r,c,i,o,s,u=n(7),l=n(15),d=n(0),b=n(593),p=n(1024),j=n(682),f=n(6),O=n(9),h=n(2145),x=n(2173),m=n(1),g=Object(f.default)(b.a)(a||(a=Object(u.a)(["\n  color: #e8663d;\n"]))),v=Object(f.default)(h.b)(r||(r=Object(u.a)(["\n  font-size: 24px;\n  margin-left: 4px;\n  margin-top: ",";\n"])),(function(e){return e.isColumnLayout?"12px":"24px"})),A=Object(f.default)(O.Text)(c||(c=Object(u.a)(["\n  color: inherit;\n  text-align: ",";\n"])),(function(e){return e.isColumnLayout?"center":"left"})),w=Object(f.default)(O.Text)(i||(i=Object(u.a)(["\n  text-align: ",";\n"])),(function(e){return e.isColumnLayout?"center":"left"})),y=Object(f.default)(O.Icon)(o||(o=Object(u.a)(["\n  svg {\n    width: ",";\n    height: ",";\n  }\n  .icon-color {\n    fill: #e8663d;\n  }\n\n  .icon-stroke {\n    stroke: #e8663d;\n  }\n"])),(function(e){return e.isColumnLayout?"32px":"24px"}),(function(e){return e.isColumnLayout?"32px":"24px"})),S=Object(f.default)(j.a)(s||(s=Object(u.a)(["\n  flex: 1;\n  color: #000;\n  .MuiIconButton-root:not(.Mui-checked) {\n    color: ",";\n  }\n"])),(function(e){return e.theme.colors.inputDisabled}));t.a=function(e){var t=e.url,n=e.onHideWarning,a=Object(d.useState)(!1),r=Object(l.a)(a,2),c=r[0],i=r[1],o=!!n;return Object(m.jsxs)(g,{display:o?"flex":"block",flexDirection:"column",height:o?"100%":"auto",alignItems:"center",children:[Object(m.jsxs)(b.a,{display:o?"block":"flex",alignItems:"center",mt:o?6:0,children:[Object(m.jsx)(y,{type:"alert",size:"md",isColumnLayout:o}),Object(m.jsx)(v,{size:"sm",bold:!0,isColumnLayout:o,children:"Warning"})]}),Object(m.jsx)(A,{isColumnLayout:o,size:"xl",children:"The application you are trying to access is not in the default Safe Apps list"}),Object(m.jsx)("br",{}),Object(m.jsx)(w,{isColumnLayout:o,size:"lg",children:"Check the link you are using and ensure that it comes from a source you trust"}),Object(m.jsx)("br",{}),t&&Object(m.jsx)(x.a,{url:t,showInOneLine:!0}),Object(m.jsx)("br",{}),n&&Object(m.jsx)(S,{control:Object(m.jsx)(p.a,{checked:c,onChange:function(){null===n||void 0===n||n(!c),i(!c)},name:"Warning message preference"}),label:"Don't show this warning again"})]})}},3083:function(e,t,n){"use strict";n.r(t);var a,r,c,i,o,s,u,l=n(0),d=n.n(l),b=n(59),p=n(262),j=n(3),f=n(37),O=n(2),h=n.n(O),x=n(8),m=n(15),g=n(7),v=n(6),A=n(9),w=n(2459),y=n(16),S=n(2464),C=n(536),k=n.n(C),E=n(48),T=n(20),I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["https:","http:"];try{var n=new URL(e);return t.includes(n.protocol)}catch(a){return!1}},L=n(459),z=n(32),R=n(81),M=n(147),P=n(1),D=v.default.div(a||(a=Object(g.a)(["\n  padding: ",";\n"])),(function(e){var t=e.theme;return"".concat(t.margin.sm," ").concat(t.margin.lg)})),_=v.default.div(r||(r=Object(g.a)(["\n  display: flex;\n  align-items: center;\n\n  span {\n    margin-right: 4px;\n  }\n"]))),N=v.default.div(c||(c=Object(g.a)(["\n  margin-top: 15px;\n"]))),U=function(e){var t=e.onTxReject,n=e.onClose,a=e.requestId;return Object(P.jsxs)(D,{children:[Object(P.jsxs)(_,{children:[Object(P.jsx)(A.Icon,{color:"error",size:"md",type:"info"}),Object(P.jsx)(A.Title,{size:"xs",children:"Transaction error"})]}),Object(P.jsx)(A.Text,{size:"lg",children:"This Safe App initiated a transaction which cannot be processed. Please get in touch with the developer of this Safe App for more information."}),Object(P.jsx)(N,{children:Object(P.jsx)(A.ModalFooterConfirmation,{cancelText:"Cancel",handleCancel:function(){return t(a),void n()},handleOk:function(){},okDisabled:!0,okText:"Submit"})})]})},B=n(27),F=n(64),H=n(448),G=n(109),q=n(84),W=n(422),V=n(251),K=n(5),Y=n(779),J=function(){var e=Object(x.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===t||void 0===t?void 0:t.length)&&"0x"!==t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,Object(B.getDecodedData)(Object(T.b)(),t);case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),X=n(173),$=n(145),Z=n(155),Q=n(2059),ee=n(83),te=n(99),ne=n(449),ae=n(56),re=n(75),ce=n(2188),ie=v.default.div(i||(i=Object(g.a)(["\n  max-width: 480px;\n  padding: "," "," 0;\n"])),K.md,K.lg),oe=v.default.div(o||(o=Object(g.a)(["\n  margin: 0;\n"]))),se=Object(v.default)($.a)(s||(s=Object(g.a)(["\n  background-color: ",";\n  width: fit-content;\n  padding: 5px 10px;\n  border-radius: 3px;\n  margin: 4px 0 0 40px;\n\n  display: flex;\n\n  > :nth-child(1) {\n    margin-right: 5px;\n  }\n"])),(function(e){return e.theme.colors.separator})),ue=function(e){var t=e.app,n=e.txs,a=e.safeAddress,r=e.ethBalance,c=e.safeName,i=e.onUserConfirm,o=e.onClose,s=e.onReject,u=e.requestId,d=e.appId,b=n.length>1,p=Object(l.useState)(),j=Object(m.a)(p,2),f=j[0],O=j[1],g=Object(y.c)(),v=Object(T.m)(),w=Object(T.i)(a),S=Object(y.d)(te.b),C=Object(l.useMemo)((function(){var e;return b?Object(G.g)():null===(e=n[0])||void 0===e?void 0:e.to}),[n,b]),k=Object(l.useMemo)((function(){var e;return b?Object(W.a)(n):null===(e=n[0])||void 0===e?void 0:e.data}),[n,b]),E=Object(l.useMemo)((function(){var e,t;return b?"0":(t=null===(e=n[0])||void 0===e?void 0:e.value,Object(F.toBN)(t).toString())}),[n,b]),I=Object(l.useMemo)((function(){return b?B.Operation.DELEGATE:B.Operation.CALL}),[b]);Object(l.useEffect)((function(){var e=!0,t=function(){var t=Object(x.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(k);case 2:(n=t.sent)&&e&&O(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!1}}),[k]);var L=function(e){i(e,u),o()};return Object(P.jsx)(ne.a,{txTo:C,txData:k,txValue:E,operation:I,onSubmit:function(e,n){Object(ce.d)(d),g(Object(H.b)({safeAddress:a,to:C,valueInWei:E,txData:k,operation:I,origin:t.id,navigateToTransactionsTab:!1,txNonce:e.safeNonce,safeTxGas:e.safeTxGas,ethParameters:e,notifiedTransaction:q.a.STANDARD_TX,delayExecution:n},L,s))},isSubmitDisabled:!S,onBack:s,children:Object(P.jsxs)("div",{children:[Object(P.jsx)(V.a,{title:t.name,iconUrl:t.iconUrl,onClose:s}),Object(P.jsx)(Z.a,{}),Object(P.jsxs)(ie,{children:[Object(P.jsx)(re.a,{margin:"xs",children:Object(P.jsx)(ae.a,{color:"disabled",noMargin:!0,size:"lg",children:"Sending from"})}),Object(P.jsx)(ee.a,{name:c,hash:a,strongName:!0,showAvatar:!0,showCopyBtn:!0,explorerUrl:w}),Object(P.jsxs)(se,{children:[Object(P.jsx)(A.Text,{size:"md",children:"Balance:"}),Object(P.jsx)(A.Text,{size:"md",strong:!0,children:"".concat(r," ").concat(v.symbol)})]}),Object(P.jsx)(Q.a,{withArrow:!0}),Object(P.jsx)(Y.a,{txRecipient:C,txData:k,txValue:Object(X.a)(E,v.decimals)}),n.length>0&&Object(P.jsx)(oe,{children:Object(P.jsx)(Y.b,{txs:n,decodedData:f})})]})]})})},le=function(e){return!e.txs.length||e.txs.some((function(e){return!function(e){return!!["string","number"].includes(typeof e.value)&&!("string"===typeof e.value&&!/^(0x)?[0-9a-f]+$/i.test(e.value))&&void 0===Object(M.k)(e.to)&&!!e.data&&"string"===typeof e.data}(e)}))?Object(P.jsx)(R.c,{description:"Safe App transaction",title:"Safe App transaction",open:e.isOpen,children:Object(P.jsx)(U,Object(j.a)({},e))}):Object(P.jsx)(R.c,{description:"Safe App transaction",title:"Safe App transaction",open:e.isOpen,children:Object(P.jsx)(ue,Object(j.a)(Object(j.a)({},e),{},{onReject:function(){e.onClose(),e.onTxReject(e.requestId)}}))})},de=n(384),be="https://third-party-cookies-check.gnosis-safe.com",pe=function(){var e=Object(l.useRef)(),t=Object(l.useState)(!1),n=Object(m.a)(t,2),a=n[0],r=n[1],c=Object(l.useCallback)((function(t){var n=t.data;try{n.hasOwnProperty("isCookieEnabled")&&(r(!n.isCookieEnabled),window.removeEventListener("message",c),document.body.removeChild(e.current))}catch(a){console.error(a)}}),[]);return Object(l.useEffect)((function(){if(!(navigator.userAgent.indexOf("Safari")>-1&&navigator.userAgent.indexOf("Chrome")<=-1)){window.addEventListener("message",c);var t=function(e,t){var n=document.createElement("iframe");return n.src=e,n.setAttribute("style","display:none"),n.onload=t,n}(be,(function(){var e;return null===t||void 0===t||null===(e=t.contentWindow)||void 0===e?void 0:e.postMessage({test:"cookie"},"*")}));e.current=t,document.body.appendChild(t)}}),[c]),Object(l.useEffect)((function(){var e;return a&&(e=setTimeout((function(){return r(!1)}),1e4)),function(){return clearTimeout(e)}}),[a]),{thirdPartyCookiesDisabled:a,setThirdPartyCookiesDisabled:r}},je=n(30),fe=n(2060),Oe=n(12),he=n(26);!function(e){e.getEnvInfo="getEnvInfo"}(u||(u={}));var xe,me,ge,ve,Ae,we,ye,Se,Ce,ke,Ee,Te,Ie,Le,ze,Re,Me,Pe,De,_e,Ne,Ue,Be,Fe,He,Ge,qe,We,Ve,Ke,Ye,Je,Xe,$e,Ze,Qe,et,tt,nt,at,rt,ct,it,ot,st,ut,lt,dt,bt,pt,jt,ft,Ot,ht,xt,mt,gt,vt=function e(t,n){var a=this;Object(Oe.a)(this,e),this.iframeRef=void 0,this.handlers=new Map,this.app=void 0,this.on=function(e,t){a.handlers.set(e,t)},this.isValidMessage=function(e){var t;if(e.data.hasOwnProperty("isCookieEnabled"))return!0;var n=(null===(t=a.iframeRef.current)||void 0===t?void 0:t.contentWindow)===e.source,r=Object.values(w.Methods).includes(e.data.method);return n&&r},this.canHandleMessage=function(e){return Boolean(a.handlers.get(e.data.method))},this.send=function(e,t){var n,r,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Object(w.getSDKVersion)(),o=c?w.MessageFormatter.makeErrorResponse(t,e,i):w.MessageFormatter.makeResponse(t,e,i);null===(n=a.iframeRef.current)||void 0===n||null===(r=n.contentWindow)||void 0===r||r.postMessage(o,"*")},this.handleIncomingMessage=function(){var e=Object(x.a)(h.a.mark((function e(t){var n,r,c,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.isValidMessage(t),r=a.canHandleMessage(t),!n||!r){e.next=16;break}return Object(je.e)({app:a.app,method:t.data.method,params:t.data.params,sdkVersion:t.data.env.sdkVersion}),c=a.handlers.get(t.data.method),e.prev=5,e.next=8,c(t);case 8:"undefined"!==typeof(i=e.sent)&&a.send(i,t.data.id),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),a.send(e.t0.message,t.data.id,!0),Object(he.c)(he.b._901,e.t0.message,{contexts:{safeApp:a.app,request:t.data}});case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),this.clear=function(){window.removeEventListener("message",a.handleIncomingMessage)},this.iframeRef=t,this.app=n,window.addEventListener("message",this.handleIncomingMessage)},At=n(2172),wt=n(505),yt=n(170),St={isOpen:!1,message:"",requestId:""},Ct=n(31),kt=n(41),Et=n(678),Tt=n(374),It=n(252),Lt=n.n(It),zt=Object(v.default)(ae.a)(xe||(xe=Object(g.a)(["\n  && {\n    font-size: ",";\n    white-space: nowrap;\n    max-width: 370px;\n    overflow: hidden;\n  }\n"])),K.lg),Rt=v.default.img(me||(me=Object(g.a)(["\n  width: 20px;\n  margin-right: 10px;\n"]))),Mt=v.default.div(ge||(ge=Object(g.a)(["\n  display: flex;\n  align-items: center;\n"]))),Pt=Object(v.default)(re.a)(ve||(ve=Object(g.a)(["\n  padding: "," ",";\n  justify-content: space-between;\n  box-sizing: border-box;\n  max-height: 75px;\n"])),K.md,K.lg),Dt=Object(v.default)(Lt.a)(Ae||(Ae=Object(g.a)(["\n  height: 35px;\n  width: 35px;\n"]))),_t=v.default.div(we||(we=Object(g.a)(["\n  margin-right: 15px;\n"]))),Nt=function(e){var t=e.goBack,n=e.iconUrl,a=e.title,r=e.onClose;return Object(P.jsxs)(Pt,{align:"center",grow:!0,children:[Object(P.jsxs)(Mt,{children:[t&&Object(P.jsx)(_t,{children:Object(P.jsx)(Tt.a,{onClick:t,children:Object(P.jsx)(A.Icon,{type:"arrowLeft",size:"md"})})}),n&&Object(P.jsx)(Rt,{alt:a,src:n}),Object(P.jsx)(zt,{noMargin:!0,weight:"bolder",title:a,children:a})]}),Object(P.jsx)(Tt.a,{disableRipple:!0,onClick:r,children:Object(P.jsx)(Dt,{})})]})},Ut=v.default.div(ye||(ye=Object(g.a)(["\n  max-width: 480px;\n  padding: "," "," 0;\n"])),K.md,K.lg),Bt=Object(v.default)($.a)(Se||(Se=Object(g.a)(["\n  background-color: ",";\n  width: fit-content;\n  padding: 5px 10px;\n  border-radius: 3px;\n  margin: 4px 0 0 40px;\n\n  display: flex;\n\n  > :nth-child(1) {\n    margin-right: 5px;\n  }\n"])),(function(e){return e.theme.colors.separator})),Ft=Object(v.default)(Et.a)(Ce||(Ce=Object(g.a)(["\n  &.MuiFormControl-root {\n    padding-bottom: ",";\n  }\n"])),(function(e){return e.theme.margin.md})),Ht=Object(v.default)(ae.a)(ke||(ke=Object(g.a)(["\n  display: flex;\n  align-items: center;\n\n  > span:first-child {\n    margin-right: ",";\n  }\n"])),(function(e){return e.theme.margin.xs})),Gt=function(e){var t=e.app,n=e.safeAddress,a=e.ethBalance,r=e.safeName,c=e.onUserConfirm,i=e.onClose,o=e.onTxReject,s=e.requestId,u=e.utf8Message,l=e.txData,d=e.txRecipient,b=Object(y.c)(),p=Object(T.i)(n),j=Object(T.m)(),f=Object(y.d)(te.b),O=function(){o(s),i()},h=function(e){c(e,s),i()};return Object(P.jsxs)(ne.a,{txData:l,txTo:d,onSubmit:function(e,a){b(Object(H.b)({safeAddress:n,to:d,valueInWei:"0",txData:l,operation:B.Operation.DELEGATE,origin:t.id,navigateToTransactionsTab:!1,txNonce:e.safeNonce,safeTxGas:e.safeTxGas,ethParameters:e,notifiedTransaction:q.a.STANDARD_TX,delayExecution:a},h,O))},onClose:O,operation:B.Operation.DELEGATE,isSubmitDisabled:!f,children:[Object(P.jsx)(Nt,{title:t.name,iconUrl:t.iconUrl,onClose:O}),Object(P.jsx)(Z.a,{}),Object(P.jsxs)(Ut,{children:[Object(P.jsx)(ee.a,{name:r,hash:n,strongName:!0,showAvatar:!0,showCopyBtn:!0,explorerUrl:p}),Object(P.jsxs)(Bt,{children:[Object(P.jsx)(A.Text,{size:"md",children:"Balance:"}),Object(P.jsx)(A.Text,{size:"md",strong:!0,children:"".concat(a," ").concat(j.symbol)})]}),Object(P.jsx)(Q.a,{withArrow:!0}),Object(P.jsx)(Y.a,{txRecipient:d,txData:l,txValue:"0",recipientName:"SignMessageLib"}),Object(P.jsx)(A.Text,{size:"lg",strong:!0,children:"Signing message:"}),Object(P.jsx)(Ft,{rows:"2",multiline:!0,disabled:!0,fullWidth:!0,label:"Message to sign",inputProps:{type:"text",value:u,name:"Message to sign",onChange:function(){},placeholder:""},InputProps:{disableUnderline:!0}}),Object(P.jsxs)(Ht,{children:[Object(P.jsx)(A.Icon,{size:"md",type:"info",color:"warning"}),"Signing a message with the Astra Safe requires a transaction on the blockchain"]})]})]})},qt=n(70),Wt=["message","isOpen"],Vt=function(e){var t=e.message,n=e.isOpen,a=Object(f.a)(e,Wt),r=Object(Ct.g)(),c=Object(y.d)(qt.a),i=Object(G.k)(c)||kt.a,o=Object(G.l)(r,c).methods.signMessage(r.eth.accounts.hashMessage(t)).encodeABI(),s=function(e){var t=Object(F.isHexStrict)(e.toString()),n=e;if(t)try{n=Object(F.hexToUtf8)(e)}catch(a){}return n}(t);return Object(P.jsx)(R.c,{description:"Safe App transaction",title:"Safe App transaction",open:n,children:Object(P.jsx)(Gt,Object(j.a)(Object(j.a)({},a),{},{txRecipient:i,txData:o,utf8Message:s}))})},Kt=n(2033),Yt=n(2028),Jt=function(e){var t=e.onClose;return Object(P.jsx)(Kt.a,{severity:"warning",onClose:t,children:Object(P.jsxs)(Yt.a,{children:["Third party cookies are disabled. Safe Apps may therefore not work properly. You can find out more information about this"," ",Object(P.jsx)(A.Link,{href:"https://help.gnosis-safe.io/en/articles/5955031-why-do-i-need-to-enable-third-party-cookies-for-safe-apps",size:"xl",target:"_blank",children:"here"})]})})},Xt=n(69),$t=n(2106),Zt=["to"],Qt=v.default.div(Ee||(Ee=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  height: calc(100% + 16px);\n  margin: -8px -24px;\n"]))),en=Object(v.default)(A.Card)(Te||(Te=Object(g.a)(["\n  flex-grow: 1;\n  padding: 0;\n  border-radius: 0;\n"]))),tn=v.default.iframe(Ie||(Ie=Object(g.a)(["\n  height: 100%;\n  width: 100%;\n  overflow: auto;\n  box-sizing: border-box;\n  display: ",";\n"])),(function(e){return e.isLoading?"none":"block"})),nn={isOpen:!1,txs:[],requestId:"",params:void 0},an=function(e){var t=e.appUrl,n=Object(y.d)(E.a),a=n.address,r=n.ethBalance,c=n.owners,i=n.threshold,o=Object(T.e)(),s=o.nativeCurrency,d=o.chainId,b=o.chainName,p=o.shortName,O=o.blockExplorerUriTemplate,g=Object(y.d)((function(e){return Object(yt.a)(e,{address:a})})),v=Object(y.d)(te.b),C=Object(l.useRef)(null),I=Object(l.useState)(nn),R=Object(m.a)(I,2),M=R[0],D=R[1],_=Object(l.useState)(!0),N=Object(m.a)(_,2),U=N[0],B=N[1],F=Object(l.useState)((function(){return Object(de.f)(t)})),H=Object(m.a)(F,2),G=H[0],q=H[1],W=function(){var e=Object(l.useState)(St),t=Object(m.a)(e,2),n=t[0],a=t[1];return[n,Object(l.useCallback)((function(e,t){a(Object(j.a)(Object(j.a)({},St),{},{isOpen:!0,message:e,requestId:t}))}),[]),Object(l.useCallback)((function(){a(St)}),[])]}(),V=Object(m.a)(W,3),K=V[0],Y=V[1],J=V[2],X=Object(l.useRef)(),$=Object(l.useState)(!1),Z=Object(m.a)($,2),Q=Z[0],ee=Z[1],ne=Object(l.useRef)(),ae=Object(l.useState)(!1),re=Object(m.a)(ae,2)[1],ie=pe(),oe=ie.thirdPartyCookiesDisabled,se=ie.setThirdPartyCookiesDisabled,ue=Object($t.a)().remoteSafeApps.filter((function(e){return e.url===t}))[0],Oe=Object(T.p)(),xe=Object(l.useMemo)((function(){return new k.a.providers.HttpProvider(Oe,Ct.o)}),[Oe]);Object(l.useEffect)((function(){var e=function(){clearTimeout(X.current),clearTimeout(ne.current)};return U?(X.current=window.setTimeout((function(){ee(!0)}),z.v),ne.current=window.setTimeout((function(){re((function(){throw Error("There was an error loading the Safe App. There might be a problem with the App provider.")}))}),3e4)):(e(),ee(!1)),function(){e()}}),[U]),Object(l.useEffect)((function(){ue&&Object(ce.c)(ue.id)}),[ue]);var me=Object(l.useCallback)((function(e,t,n){return D({isOpen:!0,txs:e,requestId:n,params:t})}),[D]),ge=Object(l.useCallback)((function(){return D(nn)}),[D]),ve=function(e,t,n,a){var r=Object(y.d)(E.i),c=r.address,i=r.ethBalance,o=r.name,s=Object(y.c)(),u=Object(T.e)(),d=u.chainId,b=u.chainName,p=Object(l.useCallback)((function(t,n){var r,c,i=Object(j.a)(Object(j.a)({},t),{},{requestId:n||Math.trunc(window.performance.now()),version:"0.4.2"});a&&e&&(null===(r=a.current)||void 0===r||null===(c=r.contentWindow)||void 0===c||c.postMessage(i,e.url))}),[a,e]);return Object(l.useEffect)((function(){var n=function(n,a,r){if(n)switch(Object(je.d)(Object(j.a)(Object(j.a)({},fe.a.LEGACY_API_CALL),{},{label:"".concat(Object(je.b)(e),"-").concat(n)})),n){case S.SDK_MESSAGES.SEND_TRANSACTIONS:a&&t(a,void 0,r);break;case S.SDK_MESSAGES.SAFE_APP_SDK_INITIALIZED:var o={messageId:S.INTERFACE_MESSAGES.ON_SAFE_INFO,data:{safeAddress:c,network:Object(de.h)(b,d).toLowerCase(),ethBalance:i}},s={messageId:S.INTERFACE_MESSAGES.ENV_INFO,data:{txServiceUrl:Object(T.r)()}};p(o),p(s);break;default:console.error("ThirdPartyApp: A message was received with an unknown message id ".concat(n,"."))}},a=function(){var t=Object(x.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.origin!==window.origin&&a.origin!==be){t.next=2;break}return t.abrupt("return");case 2:if(null===e||void 0===e?void 0:e.url.includes(a.origin)){t.next=5;break}return console.error("ThirdPartyApp: A message was received from an unknown origin ".concat(a.origin)),t.abrupt("return");case 5:n(a.data.messageId,a.data.data,a.data.requestId);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return window.addEventListener("message",a),function(){window.removeEventListener("message",a)}}),[b,d,n,s,i,t,c,o,e,p]),{sendMessageToIframe:p}}(G,me,ge,C),Ae=ve.sendMessageToIframe,we=Object(l.useCallback)((function(){var e=C.current;e&&function(e,t){try{var n=new URL(e),a=new URL(t);return n.href===a.href}catch(r){return!1}}(e.src,t)&&(B(!1),Ae({messageId:S.INTERFACE_MESSAGES.ON_SAFE_INFO,data:{safeAddress:a,network:Object(de.h)(b,d).toLowerCase(),ethBalance:r}}))}),[b,d,r,a,t,Ae]),ye=function(e,t){var n=Object(l.useState)(void 0),a=Object(m.a)(n,2),r=a[0],c=a[1];return Object(l.useEffect)((function(){var n;return t&&function(e,t){n=new vt(e,t),c(n)}(e,t),function(){var e;null===(e=n)||void 0===e||e.clear()}}),[t,e]),r}(C,G);Object(l.useEffect)((function(){null===ye||void 0===ye||ye.on(u.getEnvInfo,(function(){return{txServiceUrl:Object(T.r)()}})),null===ye||void 0===ye||ye.on(w.Methods.getTxBySafeTxHash,function(){var e=Object(x.a)(h.a.mark((function e(t){var n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data.params,a=n.safeTxHash,e.next=3,Object(wt.a)(a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),null===ye||void 0===ye||ye.on(w.Methods.getEnvironmentInfo,Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{origin:document.location.origin});case 1:case"end":return e.stop()}}),e)})))),null===ye||void 0===ye||ye.on(w.Methods.getSafeInfo,(function(){return{safeAddress:a,network:Object(de.h)(b,d).toUpperCase(),chainId:parseInt(d,10),owners:c,threshold:i,isReadOnly:!v}})),null===ye||void 0===ye||ye.on(w.Methods.getSafeBalances,function(){var e=Object(x.a)(h.a.mark((function e(t){var n,r,c,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data.params,r=n.currency,c=void 0===r?"usd":r,e.next=3,Object(At.a)({safeAddress:a,selectedCurrency:c});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),null===ye||void 0===ye||ye.on(w.Methods.rpcCall,function(){var e=Object(x.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data.params,e.prev=1,a=new Promise((function(e,t){xe.send({jsonrpc:"2.0",method:n.call,params:n.params,id:"1"},(function(n,a){(n||(null===a||void 0===a?void 0:a.error))&&t(n||(null===a||void 0===a?void 0:a.error)),e(null===a||void 0===a?void 0:a.result)}))})),e.abrupt("return",a);case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()),null===ye||void 0===ye||ye.on(w.Methods.sendTransactions,(function(e){var t=e.data.params.txs.map((function(e){var t=e.to,n=Object(f.a)(e,Zt);return Object(j.a)({to:Object(Xt.a)(t)},n)}));me(t,e.data.params.params,e.data.id)})),null===ye||void 0===ye||ye.on(w.Methods.signMessage,function(){var e=Object(x.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.data.params,a=n.message,Y(a,t.data.id);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),null===ye||void 0===ye||ye.on(w.Methods.getChainInfo,Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{chainName:b,chainId:d,shortName:p,nativeCurrency:s,blockExplorerUriTemplate:O});case 1:case"end":return e.stop()}}),e)}))))}),[ye,me,a,c,i,Y,s,d,b,p,xe,v,O]);var Se=function(e,t){Ae({messageId:S.INTERFACE_MESSAGES.TRANSACTION_CONFIRMED,data:{safeTxHash:e}},M.requestId),null===ye||void 0===ye||ye.send({safeTxHash:e},t),Object(je.d)(Object(j.a)(Object(j.a)({},fe.a.TRANSACTION_CONFIRMED),{},{label:G.name}))},Ce=function(e){Ae({messageId:S.INTERFACE_MESSAGES.TRANSACTION_REJECTED,data:{}},M.requestId),null===ye||void 0===ye||ye.send("Transaction was rejected",e,!0),Object(je.d)(Object(j.a)(Object(j.a)({},fe.a.TRANSACTION_REJECTED),{},{label:G.name}))};return Object(l.useEffect)((function(){if(!t)throw Error("App url No provided or it is invalid.");var e=function(){var e=Object(x.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(de.e)(t,!1);case 3:n=e.sent,q(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(he.c)(he.b._900,"".concat(t,", ").concat(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]),Object(l.useEffect)((function(){G&&G.name!==de.b&&Object(je.d)(Object(j.a)(Object(j.a)({},fe.a.OPEN_APP),{},{label:G.name}))}),[G]),Object(P.jsxs)(Qt,{children:[oe&&Object(P.jsx)(Jt,{onClose:function(){return se(!1)}}),Object(P.jsxs)(en,{children:[U&&Object(P.jsxs)(L.a,{style:{flexDirection:"column"},children:[Q&&Object(P.jsx)(A.Title,{size:"xs",children:"The Safe App is taking too long to load, consider refreshing."}),Object(P.jsx)(A.Loader,{size:"md"})]}),Object(P.jsx)(tn,{isLoading:U,frameBorder:"0",id:"iframe-".concat(t),ref:C,src:t,title:G.name,onLoad:we,allow:"camera"})]}),Object(P.jsx)(le,{isOpen:M.isOpen,app:G,safeAddress:a,ethBalance:r,safeName:g,txs:M.txs,onClose:ge,requestId:M.requestId,onUserConfirm:Se,params:M.params,onTxReject:Ce,appId:null===ue||void 0===ue?void 0:ue.id}),Object(P.jsx)(Vt,{isOpen:K.isOpen,app:G,safeAddress:a,ethBalance:r,safeName:g,onClose:J,requestId:K.requestId,message:K.message,onUserConfirm:Se,onTxReject:Ce})]})},rn=n(3082),cn=n(3099),on=n(1014),sn=n(146),un=n(538),ln=n.p+"static/media/addApp.71634f09.svg",dn=n(679),bn=n(2142),pn=n.n(bn),jn=n(3056),fn=n.n(jn),On=Object(v.default)(A.Card)(Le||(Le=Object(g.a)(["\n  width: 100%;\n  box-sizing: border-box;\n"]))),hn=function(e){var t=e.value,n=e.onValueChange;return Object(P.jsx)(On,{children:Object(P.jsx)(dn.a,{inputProps:{"aria-label":"search"},startAdornment:Object(P.jsx)(pn.a,{}),endAdornment:t&&Object(P.jsx)(Tt.a,{"aria-label":"Clear the search",onClick:function(){return n("")},children:Object(P.jsx)(fn.a,{})}),onChange:function(e){return n(e.target.value)},placeholder:"e.g. Compound",value:t,style:{width:"100%"},onBlur:function(){t&&Object(je.d)(Object(j.a)(Object(j.a)({},fe.a.SEARCH),{},{label:t}))}})})},xn=v.default.div(ze||(ze=Object(g.a)(["\n  max-width: 650px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: ",";\n  margin-bottom: ",";\n\n  & > p {\n    text-align: center;\n  }\n"])),(function(e){return e.theme.margin.xxl}),(function(e){return e.theme.margin.xxl})),mn=Object(v.default)(A.Button)(Re||(Re=Object(g.a)(["\n  margin-top: ",";\n  max-width: 300px;\n"])),(function(e){return e.theme.margin.md})),gn=function(e){var t=e.query,n=e.onWalletConnectSearch;return Object(P.jsxs)(xn,{children:[Object(P.jsxs)(A.Text,{size:"xl",children:["No apps found matching ",Object(P.jsx)("b",{children:t}),". Connect to dApps that haven't yet been integrated with the Safe using the WalletConnect App."]}),Object(P.jsx)(mn,{onClick:n,size:"md",children:"Search WalletConnect"})]})},vn=n(714),An=n(117),wn=n(232),yn=n(233),Sn=Object(v.default)(A.Checkbox)(Me||(Me=Object(g.a)(["\n  margin: 0;\n"]))),Cn=function(){var e=Object(wn.e)({subscription:{visited:!0}}).visited,t=(null===e||void 0===e?void 0:e.agreementAccepted)?M.p:void 0;return Object(P.jsx)(yn.a,{component:Sn,label:Object(P.jsx)(A.Text,{size:"xl",children:"This app is not a Gnosis product and I agree to use this app at my own risk."}),name:"agreementAccepted",type:"checkbox",validate:t})},kn=n(1003),En=n(1005),Tn=function(e){return I(e)?void 0:"Invalid URL"},In=Object(kn.a)({field:"appUrl",updates:{appUrl:function(){var e=Object(x.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!I(t)&&Object(kt.e)(t),!e.t0){e.next=5;break}return e.next=4,Object(de.g)(t);case 4:e.t0=e.sent;case 5:if(!(n=e.t0)){e.next=8;break}return e.abrupt("return",n);case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),Ln=function(e){var t=e.onAppInfo,n=e.onLoading,a=e.onError,r=Object(wn.c)("appUrl",{subscription:{value:!0}}).input.value,c=Object(En.a)(r,500);return Object(l.useEffect)((function(){var e=function(){var e=Object(x.a)(h.a.mark((function e(){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,Object(de.e)(c);case 4:r=e.sent,t(Object(j.a)({},r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),null===a||void 0===a||a(e.t0);case 11:n(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();I(c)&&e()}),[c,t,a,n]),null},zn=Object(v.default)(yn.a)(Pe||(Pe=Object(g.a)(["\n  && {\n    width: 100%;\n  }\n"]))),Rn=function(e){var t=e.appList,n=Object(wn.e)({subscription:{visited:!0}}).visited,a=(null===n||void 0===n?void 0:n.appUrl)?Object(M.d)(M.p,Tn,Object(de.k)(t)):void 0;return Object(P.jsx)(zn,{label:"App URL",name:"appUrl",placeholder:"App URL",type:"text",component:A.TextField,validate:a,autoComplete:"off"})},Mn=function(e){var t=e.appInfo,n=e.onCancel,a=Object(wn.e)({subscription:{valid:!0,validating:!0,visited:!0}}),r=a.valid,c=a.validating,i=a.visited,o=Object(l.useMemo)((function(){var e=(null===i||void 0===i?void 0:i.agreementAccepted)&&(null===i||void 0===i?void 0:i.appUrl);return c||!r||!e||!Object(de.i)(t)}),[c,r,i,t]);return Object(P.jsx)(R.b.Footer.Buttons,{cancelButtonProps:{onClick:n},confirmButtonProps:{disabled:o,text:"Add"}})},Pn=n(25),Dn=Object(v.default)(A.TextField)(De||(De=Object(g.a)(["\n  && {\n    width: 385px;\n    .MuiFormLabel-root {\n      &.Mui-disabled {\n        color: rgba(0, 0, 0, 0.54);\n        &.Mui-error {\n          color: ",";\n        }\n      }\n    }\n    .MuiInputBase-root {\n      .MuiFilledInput-input {\n        color: rgba(0, 0, 0, 0.54);\n      }\n      &:before {\n        border-bottom-style: inset;\n      }\n    }\n  }\n"])),(function(e){return e.theme.colors.error})),_n=v.default.div(_e||(_e=Object(g.a)(["\n  display: flex;\n  margin: 36px 0 24px 0;\n\n  img {\n    margin-right: 10px;\n  }\n"]))),Nn=Object(v.default)(A.Link)(Ne||(Ne=Object(g.a)(["\n  inline-size: fit-content;\n"]))),Un=v.default.div(Ue||(Ue=Object(g.a)(["\n  display: flex;\n  margin-bottom: 24px;\n  flex-direction: column;\n  svg {\n    position: relative;\n    top: 4px;\n    left: 4px;\n  }\n"]))),Bn=v.default.div(Be||(Be=Object(g.a)(["\n  height: 55px;\n  width: 65px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),Fn=Object(v.default)(A.Loader)(Fe||(Fe=Object(g.a)(["\n  margin-right: 15px;\n"]))),Hn={appUrl:"",agreementAccepted:!1},Gn=Object(de.f)(),qn=function(e){var t=e.appList,n=e.closeModal,a=e.onAddApp,r=Object(l.useState)(Gn),c=Object(m.a)(r,2),i=c[0],o=c[1],s=Object(l.useState)(),u=Object(m.a)(s,2),d=u[0],p=u[1],j=Object(b.h)(),f=Object(l.useState)(!1),O=Object(m.a)(f,2),g=O[0],v=O[1],w=Object(l.useCallback)(Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(je.d)(fe.a.ADD_CUSTOM_APP),a(i),j.push({pathname:Object(Pn.p)(Pn.i.APPS,Object(Pn.n)()),search:"?appUrl=".concat(encodeURIComponent(i.url))});case 3:case"end":return e.stop()}}),e)}))),[j,i,a]);Object(l.useEffect)((function(){g&&p(void 0)}),[g]);var y=Object(l.useCallback)((function(e){p(e.message),Object(he.c)(he.b._903,e.message),o(Gn)}),[o]);return Object(P.jsx)(vn.a,{decorators:[In],initialValues:Hn,onSubmit:w,testId:"add-apps-form",children:function(){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(R.b.Body,{children:[Object(P.jsxs)(Un,{children:[Object(P.jsx)(A.Text,{size:"xl",as:"span",color:"secondary",children:"Safe Apps are third-party extensions."}),Object(P.jsxs)(Nn,{href:"https://docs.gnosis-safe.io/build/sdks/safe-apps",target:"_blank",rel:"noreferrer",title:"Learn more about building Safe Apps",children:[Object(P.jsx)(A.Text,{size:"xl",as:"span",color:"primary",children:"Learn more about building Safe Apps."}),Object(P.jsx)(A.Icon,{size:"sm",type:"externalLink",color:"primary"})]})]}),Object(P.jsx)(Rn,{appList:t}),Object(P.jsx)(Ln,{onAppInfo:o,onLoading:v,onError:y}),Object(P.jsxs)(_n,{children:[g?Object(P.jsx)(Bn,{children:Object(P.jsx)(Fn,{size:"sm"})}):Object(P.jsx)(An.a,{alt:"Token image",width:55,src:i.iconUrl}),Object(P.jsx)(Dn,{label:"App name",disabled:!0,meta:{error:d},value:g?"Loading...":i.name===Gn.name?"":i.name,onChange:function(){}})]}),Object(P.jsx)(Cn,{})]}),Object(P.jsx)(R.b.Footer,{children:Object(P.jsx)(Mn,{appInfo:i,onCancel:n})})]})}})},Wn=n(2093),Vn=n(3057),Kn=n(2155),Yn=n(3058),Jn=n(3059),Xn=n.n(Jn),$n=n(356),Zn=Object(v.default)(Yn.a)(He||(He=Object(g.a)(["\n  display: flex;\n  margin-top: ",";\n  margin-bottom: ",";\n  box-shadow: 1px 2px 10px 0 rgba(212, 212, 211, 0.59);\n  box-sizing: border-box;\n  max-width: 100%;\n  padding: 52px 54px;\n  justify-content: center;\n  gap: ",";\n"])),(function(e){return e.theme.margin.md}),(function(e){return e.theme.margin.md}),(function(e){return e.theme.margin.sm})),Qn=Object(v.default)(Xn.a)(Ge||(Ge=Object(g.a)(["\n  height: 16px;\n  vertical-align: middle;\n"]))),ea=function(){return Object(P.jsxs)(Zn,{children:[Object(P.jsx)(An.a,{alt:"Info",src:$n.a}),Object(P.jsxs)(A.Text,{size:"xl",children:["Simply hover over an app and click on the",Object(P.jsx)(Qn,{}),"to bookmark the app here for convenient access"]})]})},ta=n(73),na=v.default.div(qe||(qe=Object(g.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n"]))),aa=Object(v.css)(We||(We=Object(g.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),ra=v.default.div(Ve||(Ve=Object(g.a)(["\n  width: 100%;\n  height: 100%;\n  ",";\n"])),aa),ca=Object(v.default)(rn.a.div)(Ke||(Ke=Object(g.a)(["\n  width: 100%;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(243px, 1fr));\n  column-gap: 20px;\n  row-gap: 20px;\n  justify-content: space-evenly;\n"]))),ia=v.default.div(Ye||(Ye=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  align-items: center;\n"]))),oa=Object(v.default)(A.Text)(Je||(Je=Object(g.a)(["\n  width: 100%;\n  margin: ",";\n"])),(function(e){var t=e.theme;return"".concat(t.margin.xl," 0 ").concat(t.margin.md," 0")})),sa=Object(v.default)(A.IconText)(Xe||(Xe=Object(g.a)(["\n  justify-content: center;\n  margin: 16px 55px 20px 0;\n"]))),ua=Object(v.default)(A.Card)($e||($e=Object(g.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 190px;\n  padding: 0;\n  flex-direction: column;\n  box-shadow: none;\n"]))),la=v.default.img(Ze||(Ze=Object(g.a)(["\n  height: 90px;\n  margin-bottom: 4px;\n"]))),da=function(e){var t=e.onRemoveApp,n=Object(ta.a)().safeAddress,a=Object(l.useState)(""),r=Object(m.a)(a,2),c=r[0],i=r[1],o=Object(Wn.a)(),s=o.allApps,u=o.appList,d=o.removeApp,b=o.isLoading,p=o.pinnedSafeApps,j=o.togglePin,f=o.customApps,O=o.addCustomApp,h=function(e,t){var n=Object(l.useMemo)((function(){return new Vn.a(e,{keys:["name","description"],threshold:.2,findAllMatches:!0})}),[e]);return Object(l.useMemo)((function(){return t?n.search(t).map((function(e){return e.item})):e}),[n,e,t])}(u,c),x=Object(l.useState)(null),g=Object(m.a)(x,2),v=g[0],w=g[1],y=Object(un.a)(),S=y.open,C=y.toggle,k=y.clickAway,E=0===h.length&&c,T=!!f.length&&!c,I=!c;return b||!n?Object(P.jsx)(ra,{children:Object(P.jsx)(A.Loader,{size:"md"})}):Object(P.jsxs)(na,{children:[Object(P.jsx)(A.Menu,{children:Object(P.jsx)(sn.a,{start:"sm",xs:12,children:Object(P.jsx)(A.Breadcrumb,{children:Object(P.jsx)(A.BreadcrumbElement,{iconType:"apps",text:"Apps"})})})}),Object(P.jsxs)(ia,{children:[Object(P.jsx)(hn,{value:c,onValueChange:function(e){return i(e.replace(/\s{2,}/g," "))}}),I&&Object(P.jsxs)(on.a,{title:Object(P.jsx)(A.Text,{color:"placeHolder",strong:!0,size:"md",children:"BOOKMARKED APPS"}),defaultExpanded:!0,children:[0===p.length&&Object(P.jsx)(ea,{}),Object(P.jsx)(cn.a,{children:Object(P.jsx)(ca,{"data-testid":"safe_apps__pinned-apps-container",children:p.map((function(e){return Object(P.jsx)(Kn.c,{safeApp:e,togglePin:j,size:"md",isPinned:!0},e.id)}))})})]}),T&&Object(P.jsx)(on.a,{title:Object(P.jsx)(A.Text,{color:"placeHolder",strong:!0,size:"md",children:"CUSTOM APPS"}),defaultExpanded:!0,children:Object(P.jsx)(cn.a,{children:Object(P.jsx)(ca,{children:f.map((function(e){return Object(P.jsx)(Kn.c,{safeApp:e,togglePin:j,onRemove:w,isCustomSafeApp:!0,size:"md"},e.id)}))})})}),Object(P.jsx)(oa,{color:"placeHolder",strong:!0,size:"md",children:c?"SEARCH RESULTS":"ALL APPS"}),E&&Object(P.jsx)(gn,{query:c,onWalletConnectSearch:function(){return i("WalletConnect")}}),Object(P.jsx)(cn.a,{children:Object(P.jsxs)(ca,{"data-testid":"safe_apps__all-apps-container",children:[!c&&Object(P.jsxs)(ua,{children:[Object(P.jsx)(la,{src:ln,alt:"Add Custom Safe App logo"}),Object(P.jsx)(A.Button,{size:"md",color:"primary",variant:"contained",onClick:function(){return C()},children:"Add custom app"})]}),h.map((function(e){return Object(P.jsx)(Kn.c,{safeApp:e,togglePin:j,isPinned:p.some((function(t){return t.id===e.id})),size:"md"},e.id)}))]})})]}),Object(P.jsx)(sa,{color:"secondary",iconSize:"sm",iconType:"info",text:"These are third-party apps, which means they are not owned, controlled, maintained or audited by Gnosis. Interacting with the apps is at your own risk. Any communication within the Apps is for informational purposes only and must not be construed as investment advice to engage in any transaction.",textSize:"sm"}),S&&Object(P.jsxs)(R.b,{title:"Add app",description:"Add a custom app to the list of apps",handleClose:k,children:[Object(P.jsx)(R.b.Header,{onClose:k,children:Object(P.jsx)(R.b.Header.Title,{children:"Add custom app"})}),Object(P.jsx)(qn,{closeModal:k,appList:s,onAddApp:O})]}),v&&Object(P.jsxs)(R.b,{title:"Remove app",description:"Confirm for the app removal",handleClose:function(){return w(null)},children:[Object(P.jsx)(R.b.Header,{onClose:function(){return w(null)},children:Object(P.jsx)(R.b.Header.Title,{children:"Remove app"})}),Object(P.jsx)(R.b.Body,{children:Object(P.jsxs)(A.Text,{size:"xl",children:["This action will remove"," ",Object(P.jsx)(A.Text,{size:"xl",strong:!0,as:"span",children:v.name})," ","from the interface"]})}),Object(P.jsx)(R.b.Footer,{children:Object(P.jsx)(R.b.Footer.Buttons,{cancelButtonProps:{testId:"cancel-btn",onClick:function(){return w(null)}},confirmButtonProps:{testId:"confirm-btn",color:"error",onClick:function(){var e=v.url;t(e),d(v.id),w(null)},text:"Remove"}})})]})]})},ba=n(2029),pa=n(3079),ja=n(43),fa=n(593),Oa=v.default.div(Qe||(Qe=Object(g.a)(["\n  position: relative;\n  margin: 0 auto;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n"]))),ha=v.default.div(et||(et=Object(g.a)(["\n  position: relative;\n  display: flex;\n  min-width: 100%;\n  min-height: 100%;\n  transform: translateX(0);\n  height: 426px;\n\n  transition: transform 0.5s ease;\n  transform: translateX(-","%);\n"])),(function(e){return 100*e.activeStep})),xa=v.default.div(tt||(tt=Object(g.a)(["\n  min-width: 100%;\n  min-height: 100%;\n\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n"]))),ma=function(e){var t=e.onSlideChange,n=e.children,a=e.initialStep,r=Object(l.useMemo)((function(){return d.a.Children.toArray(n).filter(Boolean)}),[n]),c=Object(l.useState)(a||0),i=Object(m.a)(c,2),o=i[0],s=i[1],u=Object(l.useState)(!1),b=Object(m.a)(u,2),p=b[0],j=b[1];Object(l.useEffect)((function(){var e;return p&&(e=setTimeout((function(){j(!1)}),500)),function(){e&&clearTimeout(e)}}),[p]);var f=0===o;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Oa,{className:"container",children:Object(P.jsx)(ha,{className:"inner",activeStep:o,children:r.map((function(e,t){return Object(P.jsx)(xa,{children:e},t)}))})}),Object(P.jsxs)(fa.a,{display:"flex",justifyContent:"center",width:"100%",children:[Object(P.jsx)(A.Button,{color:"primary",size:"md",variant:"bordered",fullWidth:!0,onClick:function(){if(!p){var e=o-1;t(e),s(e),j(!0)}},children:f?"Cancel":"Back"}),Object(P.jsx)(A.Button,{color:"primary",size:"md",fullWidth:!0,onClick:function(){if(!p){var e=o+1;t(e),s(e),j(!0)}},style:{marginLeft:10},children:"Continue"})]})]})},ga=n(2145),va=v.default.div(nt||(nt=Object(g.a)(["\n  p,\n  h4 {\n    line-height: 24px;\n  }\n"]))),Aa=Object(v.default)(A.Link)(at||(at=Object(g.a)(["\n  text-decoration: none;\n"]))),wa=Object(v.default)(A.Text)(rt||(rt=Object(g.a)(["\n  text-align: justify;\n"]))),ya=function(){return Object(P.jsxs)(va,{children:[Object(P.jsx)(ga.a,{size:"lg",children:"Before starting to use Safe dApps..."}),Object(P.jsx)(ga.b,{size:"sm",bold:!0,centered:!0,children:"Disclaimer"}),Object(P.jsx)(wa,{size:"xl",children:"You are now accessing third-party apps, which we do not own, control, maintain or audit. We are not liable for any loss you may suffer in connection with interacting with the apps, which is at your own risk."}),Object(P.jsx)("br",{}),Object(P.jsx)("br",{}),Object(P.jsx)(wa,{size:"xl",children:"You must read our Terms, which contain more detailed provisions binding on you relating to the apps."}),Object(P.jsx)("br",{}),Object(P.jsx)("br",{}),Object(P.jsxs)(wa,{size:"xl",children:["I have read and understood the"," ",Object(P.jsx)(Aa,{href:"https://gnosis-safe.io/terms",size:"xl",rel:"noopener noreferrer",target:"_blank",children:"Terms"})," ","and this Disclaimer, and agree to be bound by them."]})]})},Sa=Object(v.default)(A.Icon)(ct||(ct=Object(g.a)(["\n  margin-top: 10px;\n"]))),Ca=Object(v.default)(A.Title)(it||(it=Object(g.a)(["\n  font-weight: bold;\n  text-align: center;\n"]))),ka=Object(v.default)(A.Dot)(ot||(ot=Object(g.a)(["\n  min-width: 19px;\n  width: 19px;\n  height: 19px;\n  margin-right: 19px;\n  background: ",";\n  color: ",";\n"])),(function(e){return e.theme.colors.background}),(function(e){return e.theme.colors.secondaryHover})),Ea=Object(v.default)(A.Text)(st||(st=Object(g.a)(["\n  position: absolute;\n  font-size: 11px;\n"]))),Ta=function(e){var t=e.practices;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Sa,{size:"md",type:"privacyPolicy",color:"primary"}),Object(P.jsx)(Ca,{size:"xs",children:"Best security practices when interacting with Safe Apps"}),t.map((function(e,t){return Object(P.jsxs)(fa.a,{display:"flex",marginBottom:2,alignItems:"flex-start",children:[Object(P.jsx)(ka,{color:"primary",children:Object(P.jsx)(Ea,{size:"sm",children:t+1})}),Object(P.jsxs)(fa.a,{flexDirection:"column",children:[Object(P.jsx)(A.Text,{size:"xl",children:e.title}),e.subtitle&&Object(P.jsx)(A.Text,{size:"xl",children:e.subtitle})]})]},t)}))]})},Ia=n(2231),La=[{id:"1",title:"Always load Safe Apps from trusted sources.",imageSrc:"./safe-apps-security-practices/1.png"},{id:"2",title:"Check the Safe App link you are trying to use.",subtitle:"Do you know the domain and trust it?"},{id:"3",title:"Always check transaction information while creating it, before proposing it to the Safe.",imageSrc:"./safe-apps-security-practices/2.png"},{id:"4",title:"Do a second check on transaction data before signing in the queue.",imageSrc:"./safe-apps-security-practices/3.png"}],za=v.default.div(ut||(ut=Object(g.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 160px;\n"]))),Ra=Object(v.default)(za)(lt||(lt=Object(g.a)(["\n  height: 190px;\n  padding: 0 30px;\n"]))),Ma=v.default.div(dt||(dt=Object(g.a)(["\n  margin: 40px 20px 64px 20px;\n"]))),Pa=Object(v.default)(A.Title)(bt||(bt=Object(g.a)(["\n  text-align: center;\n"]))),Da=v.default.img(pt||(pt=Object(g.a)(["\n  max-width: 100%;\n  max-height: 100%;\n  margin-top: 15px;\n"]))),_a=function(e){var t=e.title,n=e.subtitle,a=e.imageSrc,r=e.children;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(A.Icon,{size:"md",type:"privacyPolicy"}),Object(P.jsx)(ga.a,{size:"lg",children:"Secure your activity with Safe dApps by following simple rules"}),a?Object(P.jsx)(Ra,{children:Object(P.jsx)(Da,{src:a,alt:t})}):Object(P.jsx)(za,{children:r}),Object(P.jsxs)(Ma,{children:[Object(P.jsx)(Pa,{size:"xs",children:t}),n&&Object(P.jsx)(Pa,{size:"xs",children:n})]})]})},Na=n(2173),Ua=function(e){var t=e.onCancel,n=e.onConfirm,a=e.appUrl,r=e.isConsentAccepted,c=e.isSafeAppInDefaultList,i=e.isFirstTimeAccessingApp,o=e.isExtendedListReviewed,s=Object(l.useState)(!1),u=Object(m.a)(s,2),d=u[0],b=u[1],p=Object(l.useState)(0),f=Object(m.a)(p,2),O=f[0],h=f[1],x=Object(l.useMemo)((function(){var e=0;return r||(e+=1),i&&o&&(e+=1),i&&!o&&(e+=La.length),!c&&i&&(e+=1),e}),[r,o,i,c]),g=Object(l.useMemo)((function(){return 100*(O+1)/x}),[O,x]),v=Object(l.useMemo)((function(){return O===x-1}),[O,x]),A=Object(l.useMemo)((function(){return!c&&i}),[i,c]);return Object(P.jsx)(Ba,{children:Object(P.jsxs)(Fa,{children:[Object(P.jsx)(Ga,{variant:"determinate",value:g,$isWarningStep:v&&A}),Object(P.jsx)(Ha,{container:!0,justifyContent:"center",alignItems:"center",direction:"column",children:Object(P.jsxs)(ma,{onSlideChange:function(e){var a=e===x;-1===e&&t(),a&&n(d),h(e)},children:[!r&&Object(P.jsx)(ya,{}),i&&o&&Object(P.jsx)(Ta,{practices:La,appUrl:a}),i&&!o&&La.map((function(e){return e.imageSrc?Object(P.jsx)(_a,Object(j.a)({},e),e.id):Object(P.jsx)(_a,Object(j.a)(Object(j.a)({},e),{},{children:Object(P.jsx)(Na.a,{url:a})}),e.id)})),A&&Object(P.jsx)(Ia.a,{url:a,onHideWarning:b})]})})]})})},Ba=v.default.div(jt||(jt=Object(g.a)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n"]))),Fa=v.default.div(ft||(ft=Object(g.a)(["\n  width: 450px;\n  background-color: ",";\n  border-radius: 8px;\n  box-shadow: 1px 2px 10px 0 ",";\n"])),(function(e){return e.theme.colors.white}),(function(e){var t=e.theme;return Object(ja.a)(t.colors.shadow.color,.18)})),Ha=Object(v.default)(ba.a)(Ot||(Ot=Object(g.a)(["\n  text-align: center;\n  padding: 24px;\n"]))),Ga=Object(v.default)(pa.a)(ht||(ht=Object(g.a)(["\n  height: 6px;\n  background-color: #fff;\n  border-radius: 8px 8px 0 0;\n  .MuiLinearProgress-bar {\n    background-color: ",";\n    border-radius: 8px;\n  }\n"])),(function(e){var t=e.theme;return e.$isWarningStep?"#e8663d":t.colors.primary})),qa=Object(l.memo)(Ua),Wa=n(17),Va=n(18),Ka=n(19),Ya=function(e){Object(Va.a)(n,e);var t=Object(Ka.a)(n);function n(e){var a;return Object(Oe.a)(this,n),(a=t.call(this,e)).state={hasError:!1},a.state={hasError:!1},a}return Object(Wa.a)(n,[{key:"componentDidCatch",value:function(e,t){console.error("Uncaught error:",e,t)}},{key:"render",value:function(){return this.state.hasError?this.props.render():this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),n}(d.a.Component),Ja=n(134),Xa=v.default.div(xt||(xt=Object(g.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),$a=v.default.div(mt||(mt=Object(g.a)(["\n  width: 400px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n\n  > * {\n    margin-top: 10px;\n  }\n"]))),Za=v.default.div(gt||(gt=Object(g.a)(["\n  display: inline-flex;\n  margin-bottom: 10px;\n\n  > :first-of-type {\n    margin-right: 5px;\n  }\n"]))),Qa=function(){var e=Object(b.h)(),t=Object(y.d)(Ja.b),n=t.currentShortName,a=t.currentSafeAddress;return Object(P.jsx)(Xa,{children:Object(P.jsxs)($a,{children:[Object(P.jsx)(A.Title,{size:"md",children:"Safe App could not be loaded."}),Object(P.jsx)(A.FixedIcon,{type:"networkError"}),Object(P.jsxs)("div",{children:[Object(P.jsxs)(A.Text,{size:"xl",as:"span",children:["In case the problem persists, please reach out to us via"," "]}),Object(P.jsxs)(Za,{children:[Object(P.jsx)("a",{target:"_blank",href:"https://chat.gnosis-safe.io",rel:"noopener noreferrer",children:Object(P.jsx)(A.Text,{color:"primary",size:"lg",as:"span",children:"Discord"})}),Object(P.jsx)(A.Icon,{type:"externalLink",color:"primary",size:"sm"})]})]}),Object(P.jsx)(A.Link,{size:"lg",color:"primary",onClick:function(){e.push(Object(Pn.p)(Pn.i.APPS,{safeAddress:a,shortName:n}))},children:"Go back to the Safe Apps list"})]})})},er=n(2230);t.default=function(){var e=Object(b.h)(),t=(0,Object(p.a)().getAppUrl)(),n=Object(er.a)(),a=n.isModalVisible,r=n.isSafeAppInDefaultList,c=n.isFirstTimeAccessingApp,i=n.isConsentAccepted,o=n.isExtendedListReviewed,s=n.onComplete,u=n.onRemoveCustomApp,d=Object(l.useCallback)((function(){return e.goBack()}),[e]);return t?a?Object(P.jsx)(qa,{onCancel:d,onConfirm:s,appUrl:t,isConsentAccepted:i,isSafeAppInDefaultList:r,isFirstTimeAccessingApp:c,isExtendedListReviewed:o}):Object(P.jsx)(Ya,{render:function(){return Object(P.jsx)(Qa,{})},children:Object(P.jsx)(an,{appUrl:t})}):Object(P.jsx)(da,{onRemoveApp:u})}}}]);
//# sourceMappingURL=38.be278ae1.chunk.js.map