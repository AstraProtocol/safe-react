(this["webpackJsonpsafe-react"]=this["webpackJsonpsafe-react"]||[]).push([[35],{2042:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return"Step ".concat(e," of ").concat(t)}},2052:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var r=n(15),a=n(249),c=n(0),s=n.p+"static/media/qrcode.fec1b6d8.svg",o=n(374),i=n(252),d=n.n(i),l=n(2082),j=n.n(l),b=n(5),u=n(248),O=Object(u.a)({heading:{padding:b.lg,justifyContent:"space-between",maxHeight:"75px",boxSizing:"border-box"},loaderContainer:{width:"100%",height:"100%"},close:{height:"25px",width:"25px",color:b.secondaryText},detailsContainer:{backgroundColor:b.background,maxHeight:"450px"},buttonRow:{height:"84px",justifyContent:"center"},button:{"&:last-child":{marginLeft:b.sm}}}),h=n(81),m=n(144),x=n(170),g=n(145),f=n(153),p=n(56),w=n(75),v=n(1),C=Object(a.a)(O),N=function(e){var t=e.isOpen,n=e.onClose,a=e.onScan,s=C(),i=Object(c.useState)(!1),l=Object(r.a)(i,2),b=l[0],u=l[1],O=Object(c.useState)(null),N=Object(r.a)(O,2),y=N[0],S=N[1],R=Object(c.useState)(!1),k=Object(r.a)(R,2),_=k[0],T=k[1],A=c.createRef(),E=c.useCallback((function(){A.current.openImageDialog()}),[A]);Object(c.useEffect)((function(){b||!_||y||(u(!0),E())}),[_,E,b,u,y]);var B=function(e,t){if(e)return console.error("QR code error",e),void("NotAllowedError"===e.name||"PermissionDismissedError"===e.name?(T(!0),u(!1)):S("The QR could not be read"));t?a(t):_&&S("The QR could not be read")};return Object(v.jsxs)(h.c,{description:"Receive Tokens Form",handleClose:n,open:t,title:"Receive Tokens",children:[Object(v.jsxs)(w.a,{align:"center",className:s.heading,grow:!0,children:[Object(v.jsx)(p.a,{noMargin:!0,size:"xl",children:"Scan QR"}),Object(v.jsx)(o.a,{disableRipple:!0,onClick:n,children:Object(v.jsx)(d.a,{className:s.close})})]}),Object(v.jsx)(f.a,{}),Object(v.jsxs)(g.a,{className:s.detailsContainer,layout:"column",middle:"xs",children:[y&&Object(v.jsx)(m.a,{padding:"md",margin:"md",children:y}),Object(v.jsx)(j.a,{legacyMode:_,onError:function(e){return B(e,null)},onScan:function(e){return B(null,e)},ref:A,style:{width:"400px",height:"400px"},facingMode:"user"})]}),Object(v.jsx)(f.a,{}),Object(v.jsxs)(w.a,{align:"center",className:s.buttonRow,children:[Object(v.jsx)(x.a,{className:s.button,color:"secondary",minWidth:154,onClick:n,children:"Close"}),Object(v.jsx)(x.a,{className:s.button,color:"primary",minWidth:154,onClick:function(){T(!0),S(null),u(!1)},variant:"contained",children:"Upload an image"})]})]})},y=n(117),S=Object(a.a)({qrCodeBtn:{cursor:"pointer"}}),R=function(e){var t=e.handleScan,n=e.testId,a=S(),o=Object(c.useState)(!1),i=Object(r.a)(o,2),d=i[0],l=i[1],j=function(){l(!1)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(y.a,{alt:"Scan QR",className:a.qrCodeBtn,height:20,onClick:function(){l(!0)},role:"button",src:s,testId:n||"qr-icon"}),d&&Object(v.jsx)(N,{isOpen:d,onClose:j,onScan:function(e){t(e,j)}})]})}},2062:function(e,t,n){"use strict";var r=n(3),a=n(38),c=n(674),s=n(681),o=n(693),i=n(691),d=n(1),l=["name","onChange","value"],j=["classes","disableError","formControlProps","input","label","meta","renderValue"],b={minWidth:"100%"};t.a=function(e){var t=e.classes,n=e.disableError,u=e.formControlProps,O=e.input,h=O.name,m=O.onChange,x=O.value,g=Object(a.a)(O,l),f=e.label,p=e.meta,w=e.renderValue,v=Object(a.a)(e,j),C=(p.submitError&&!p.dirtySinceLastSubmit||p.error)&&p.touched&&!n,N=Object(r.a)(Object(r.a)({},g),{},{name:h});return Object(d.jsxs)(c.a,Object(r.a)(Object(r.a)({},u),{},{error:C,style:b,children:[Object(d.jsx)(o.a,{htmlFor:h,children:f}),Object(d.jsx)(i.a,Object(r.a)({classes:t,inputProps:N,onChange:m,renderValue:w,value:x,variant:"outlined"},v)),C&&Object(d.jsx)(s.a,{children:p.error||p.submitError})]}))}},2071:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(17),c=n(18),s=n(19),o=n(740),i=n(743),d=n(741),l=n(1024),j=n(0),b=n(1),u=function(e){if(e)return{maxWidth:"".concat(e,"px")}},O=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).changeSort=function(t,n){return function(){(0,e.props.onSort)(t,n)}},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.columns,r=t.order,a=t.orderBy;return Object(b.jsx)(i.a,{children:Object(b.jsx)(d.a,{children:n.map((function(t){return Object(b.jsx)(o.a,{align:t.align,padding:t.disablePadding?"none":"normal",sortDirection:a===t.id&&r,children:t.static?Object(b.jsx)("div",{style:t.style,children:t.label}):Object(b.jsx)(l.a,{active:a===t.id,direction:r,onClick:e.changeSort(t.id,t.order),style:t.style,children:t.label})},t.id)}))})})}}]),n}(j.PureComponent);t.b=O},2074:function(e,t,n){"use strict";var r=n(3),a=n(38),c=n(187),s=n.n(c),o=n(0),i=n(2092),d=n.n(i),l=n(97),j=["align","children","className","color","margin","tag","testId","truncate"],b=s.a.bind(d.a);t.a=function(e){var t=e.align,n=e.children,c=e.className,s=void 0===c?"":c,i=e.color,d=e.margin,u=e.tag,O=e.testId,h=e.truncate,m=Object(a.a)(e,j),x=b(s,"heading",t,u,d?Object(l.a)(d,"margin"):void 0,i,{truncate:h});return o.createElement(u,Object(r.a)(Object(r.a)({},m),{},{className:x,"data-testid":O||""}),n)}},2083:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n(230);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}r.Component,r.Component;var o=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={previous:t.input.value},n}s(t,e);var n=t.prototype;return n.componentDidUpdate=function(){var e=this.props,t=e.children,n=e.input.value,r=this.state.previous;n!==r&&(this.setState({previous:n}),t(n,r))},n.render=function(){return null},t}(r.Component),i=function(e){var t=e.name,n=e.children;return Object(r.createElement)(a.a,{name:t,subscription:{value:!0},allowNull:!0,render:function(e){return Object(r.createElement)(o,c({},e,{children:n}))}})};r.Component},2084:function(e,t,n){"use strict";var r,a=n(7),c=n(6),s=n(1),o=c.default.button(r||(r=Object(a.a)(["\n  background: none;\n  color: inherit;\n  border: none;\n  padding: 0;\n  font: inherit;\n  cursor: pointer;\n  border-radius: 50%;\n  transition: background-color 0.2s ease-in-out;\n  outline-color: transparent;\n  height: 24px;\n  width: 24px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  :hover {\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.colors.separator}));t.a=function(e){var t=e.onClick,n=void 0===t?function(){}:t,r=e.children,a=e.dataTestId;return Object(s.jsx)(o,{onClick:n,type:"button","data-testid":a,children:r})}},2090:function(e,t,n){"use strict";var r=n(12),a=n(17),c=n(18),s=n(19),o=n(9),i=n(797),d=n(742),l=n(1022),j=n(21),b=n(0),u=n(2071),O=n(95),h=function(e,t,n,r,a){var c=r?"".concat(n,"Order"):n;return a(t[c])<a(e[c])?-1:a(t[c])>a(e[c])?1:0},m=n(75),x=n(5),g=n(1),f={root:{backgroundColor:"white",borderTopRightRadius:x.sm,borderTopLeftRadius:x.sm,boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)"},selectRoot:{lineHeight:x.xxl,backgroundColor:"white"},white:{backgroundColor:"white"},paginationRoot:{backgroundColor:"white",boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)",marginBottom:"90px",borderBottomRightRadius:x.sm,borderBottomLeftRadius:x.sm},loader:{boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)"}},p={"aria-label":"Previous Page"},w={"aria-label":"Next Page"},v=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).onSort=function(e,t){var n=a.state,r=n.order,c=n.orderBy,s=a.props.defaultOrder,o="desc";r&&c===e&&"desc"===r?o="asc":r||"desc"!==s||(o="asc"),a.setState((function(){return{order:o,orderBy:e,orderProp:t,fixed:!1}}))},a.getEmptyStyle=function(){return{height:"calc(100vh - ".concat(255,"px)"),borderTopRightRadius:x.sm,borderTopLeftRadius:x.sm,backgroundColor:"white",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){var t=Number(e.target.value);a.setState({rowsPerPage:t})},a.state={page:0,order:void 0,orderBy:void 0,fixed:void 0,orderProp:!1,rowsPerPage:void 0},a}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.columns,n=e.defaultOrderBy;n&&t&&(t.find((function(e){return e.id===n})).order&&this.setState({orderProp:!0}))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes,r=e.columns,a=e.data,c=e.defaultFixed,s=e.defaultOrder,j=e.defaultOrderBy,b=e.defaultRowsPerPage,x=e.disableLoadingOnEmptyTable,f=e.disablePagination,v=e.label,C=e.noBorder,N=e.size,y=this.state,S=y.fixed,R=y.order,k=y.orderBy,_=y.orderProp,T=y.page,A=y.rowsPerPage,E=k||j,B=R||s,P=A||b,I="undefined"!==typeof S?S:!!c,H={selectRoot:n.selectRoot,root:!C&&n.paginationRoot,input:n.white},M=r.find((function(e){return e.id===E})),D=function(e,t,n){var r=n?e.filter((function(e){return e.fixed})):Object(O.a)([]),a=(n?e.filter((function(e){return!e.fixed})):e).map((function(e,t){return[e,t]})),c=(a=a.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]}))).map((function(e){return e[0]}));return r.concat(c)}(a,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return"desc"===e?function(e,a){return h(e,a,t,n,r)}:function(e,a){return-h(e,a,t,n,r)}}(B,E,_,null===M||void 0===M?void 0:M.formatTypeSort),I);f||(D=D.slice(T*P,T*P+P));var F=0===N&&!x;return Object(g.jsxs)(g.Fragment,{children:[!F&&Object(g.jsxs)(i.a,{"aria-labelledby":v,className:C?"":n.root,children:[Object(g.jsx)(u.b,{columns:r,onSort:this.onSort,order:R,orderBy:E}),Object(g.jsx)(d.a,{children:t(D)})]}),F&&Object(g.jsx)(m.a,{className:n.loader,style:this.getEmptyStyle(),children:Object(g.jsx)(o.Loader,{size:"sm"})}),!f&&Object(g.jsx)(l.a,{backIconButtonProps:p,classes:H,component:"div",count:N,nextIconButtonProps:w,onPageChange:this.handleChangePage,onRowsPerPageChange:this.handleChangeRowsPerPage,page:T,rowsPerPage:P,rowsPerPageOptions:[5,10,25,50,100]})]})}}]),n}(b.Component);v.defaultProps={defaultOrder:"asc",disablePagination:!1,defaultRowsPerPage:5};t.a=Object(j.a)(f)(v)},2092:function(e,t,n){e.exports={heading:"Heading_heading__3Wz9P",h1:"Heading_h1__MXfCA",h2:"Heading_h2__3X6Ts",h3:"Heading_h3__1k2fD",h4:"Heading_h4__1YCmR",center:"Heading_center__28MHY",right:"Heading_right__1fQM1",truncate:"Heading_truncate__2Lq93",marginSm:"Heading_marginSm__13YwX",marginMd:"Heading_marginMd__2AnZN",marginLg:"Heading_marginLg__2ZfEq",marginXl:"Heading_marginXl__3RHt7",soft:"Heading_soft__2Zu43",medium:"Heading_medium__2X8Z-",dark:"Heading_dark__Ds2QB",fancy:"Heading_fancy__1Wx6l",warning:"Heading_warning__2lrZC",primary:"Heading_primary__2hOk2",secondary:"Heading_secondary__37lKs",disabled:"Heading_disabled__30DjG",error:"Heading_error__t5ujr",white:"Heading_white__2gkIK"}},2110:function(e,t,n){"use strict";var r=n(10),a=n(3),c=n(50),s=n(15),o=n(0),i=n(230),d=n(2083),l=n(802),j=n(788),b=n(232),u=n(146),O=n(77),h=n(32),m=n(41),x=n(69),g=n(26),f=n(172),p=n(1);t.a=function(e){var t=e.className,n=void 0===t?"":t,w=e.name,v=void 0===w?"recipientAddress":w,C=e.text,N=void 0===C?"Recipient*":C,y=e.placeholder,S=void 0===y?"Recipient*":y,R=e.fieldMutator,k=e.testId,_=e.inputAdornment,T=e.validators,A=void 0===T?[]:T,E=e.defaultValue,B=e.disabled,P=Object(o.useState)(""),I=Object(s.a)(P,2),H=I[0],M=I[1],D=Object(o.useState)({}),F=Object(s.a)(D,2),z=F[0],W=F[1],V=z[H],L=""===V,G=Object(o.useCallback)((function(e){var t=Object(f.b)(e);return u.d.apply(void 0,Object(c.a)(A))(t.address)}),[A]),q=Object(o.useMemo)((function(){return Object(u.d)(u.p,u.k,G)}),[G]),U=Object(o.useCallback)((function(e){var t=Object(O.c)(e);if(M(e),Object(m.e)(t)||Object(m.d)(t))W((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(r.a)({},e,""))})),Object(h.b)(t).then((function(t){var n=Object(x.a)(t);W((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(r.a)({},e,n))}))})).catch((function(t){W((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(r.a)({},e,void 0))})),Object(g.c)(g.b._101,t.message)}));else if(!Object(u.k)(t)){var n=Object(f.b)(t),c=Object(x.a)(n.address)||n.address;R(c)}}),[M,W,R]);Object(o.useEffect)((function(){V&&U(V)}),[V,U]);var X=L?{endAdornment:Object(p.jsx)(l.a,{position:"end",children:Object(p.jsx)(j.a,{size:"16px"})})}:_;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(i.a,{className:n,component:b.a,defaultValue:E,disabled:B,inputAdornment:X,name:v,placeholder:S,label:N,spellCheck:!1,validate:q,inputProps:{"data-testid":k}}),Object(p.jsx)(d.a,{name:v,children:U})]})}},3082:function(e,t,n){"use strict";n.r(t),n.d(t,"RENAME_OWNER_BTN_TEST_ID",(function(){return rt})),n.d(t,"REMOVE_OWNER_BTN_TEST_ID",(function(){return at})),n.d(t,"ADD_OWNER_BTN_TEST_ID",(function(){return ct})),n.d(t,"REPLACE_OWNER_BTN_TEST_ID",(function(){return st})),n.d(t,"OWNERS_ROW_TEST_ID",(function(){return ot}));var r,a=n(10),c=n(3),s=n(15),o=n(0),i=n(9),d=n(740),l=n(798),j=n(741),b=n(216),u=n.n(b),O=n(2),h=n.n(O),m=n(8),x=n(16),g=n(81),f=n(49),p=n(218),w=n(84),v=n(447),C=n(69),N=n(213),y=n(249),S=n(2083),R=n(5),k=n(248),_=Object(k.a)({formContainer:{padding:"".concat(R.md," ").concat(R.lg),minHeight:"340px"},buttonRow:{height:"84px",justifyContent:"center",gap:"16px"}}),T=n(2052),A=n(2110),E=n(231),B=n(712),P=n(232),I=n(146),H=n(144),M=n(145),D=n(153),F=n(56),z=n(75),W=n(168),V=n(48),L=n(122),G=n(251),q=n(2042),U=n(1),X="add-owner-name-input",Q="add-owner-address-testid",Z="add-owner-next-btn",Y={setOwnerAddress:function(e,t,n){n.changeValue(t,"ownerAddress",(function(){return e[0]}))},setOwnerName:function(e,t,n){n.changeValue(t,"ownerName",(function(){return e[0]}))}},J=Object(y.a)(_),K=function(e){var t=e.onClose,n=e.onSubmit,r=e.initialValues,a=J(),c=Object(x.d)(W.f),s=Object(x.d)(V.a),o=s.address,i=void 0===o?"":o,d=s.owners,l=void 0===d?[]:d,j=Object(I.q)(l),b=Object(I.c)(i);return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(G.a,{onClose:t,title:"Add new owner",subTitle:Object(q.a)(1,3)}),Object(U.jsx)(D.a,{}),Object(U.jsx)(B.a,{formMutators:Y,initialValues:{ownerName:null===r||void 0===r?void 0:r.ownerName,ownerAddress:null===r||void 0===r?void 0:r.ownerAddress},onSubmit:function(e){n(e)},children:function(){var e=arguments.length<=3?void 0:arguments[3],n=function(t,n){var r=t;r.startsWith("ethereum:")&&(r=r.replace("ethereum:","")),e.setOwnerAddress(r),n()};return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(H.a,{className:a.formContainer,children:[Object(U.jsx)(z.a,{margin:"md",children:Object(U.jsx)(F.a,{children:"Add a new owner to the active Safe"})}),Object(U.jsx)(z.a,{margin:"md",children:Object(U.jsxs)(M.a,{xs:8,children:[Object(U.jsx)(E.a,{component:P.a,name:"ownerName",placeholder:"Owner name*",testId:X,label:"Owner name*",type:"text",validate:Object(I.d)(I.p,I.r)}),Object(U.jsx)(S.a,{name:"ownerAddress",children:function(){var t=Object(m.a)(h.a.mark((function t(n){var r,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(L.a)(n)&&(a=null===(r=c[n])||void 0===r?void 0:r.name)&&e.setOwnerName(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})]})}),Object(U.jsxs)(z.a,{margin:"md",children:[Object(U.jsx)(M.a,{xs:8,children:Object(U.jsx)(A.a,{fieldMutator:e.setOwnerAddress,name:"ownerAddress",placeholder:"Owner address*",testId:Q,text:"Owner address*",validators:[j,b]})}),Object(U.jsx)(M.a,{center:"xs",className:a,middle:"xs",xs:1,children:Object(U.jsx)(T.a,{handleScan:n})})]})]}),Object(U.jsx)(D.a,{}),Object(U.jsx)(z.a,{align:"center",className:a.buttonRow,children:Object(U.jsx)(g.b.Footer.Buttons,{cancelButtonProps:{onClick:t,text:"Cancel"},confirmButtonProps:{type:"submit",text:"Next",testId:Z}})})]})}})]})},$=n(20),ee=n(83),te=Object(k.a)({root:{height:"372px"},info:{backgroundColor:R.background,padding:R.sm,justifyContent:"center",textAlign:"center",flexDirection:"column"},buttonRow:{height:"84px",justifyContent:"center",gap:"16px"},details:{padding:R.lg,borderRight:"solid 2px ".concat(R.border),height:"100%"},owners:{overflow:"auto",height:"100%"},ownersTitle:{padding:"".concat(R.sm," ").concat(R.lg)},owner:{padding:"".concat(R.sm," ").concat(R.lg),alignItems:"center"},name:{textOverflow:"ellipsis",overflow:"hidden"},selectedOwner:{padding:"".concat(R.sm," ").concat(R.lg),alignItems:"center"},open:{paddingLeft:R.sm,width:"auto","&:hover":{cursor:"pointer"}}}),ne=n(32),re=n(26),ae=n(448),ce=n(7),se=n(6),oe=Object(se.default)(F.a)(r||(r=Object(ce.a)(["\n  font-size: 11px;\n  line-height: 14px;\n  letter-spacing: 1px;\n"]))),ie=Object(y.a)(te),de=function(e){var t=e.onClickBack,n=e.onClose,r=e.onSubmit,a=e.values,c=ie(),i=Object(o.useState)(""),d=Object(s.a)(i,2),l=d[0],j=d[1],b=Object(x.d)(V.i),u=b.address,O=b.name,g=b.owners,p=b.currentVersion,w=Object(x.d)(f.g);return Object(o.useEffect)((function(){var e=!0,t=function(){var t=Object(m.a)(h.a.mark((function t(){var n,r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ne.e)(w,u,p);case 3:return n=t.sent,t.next=6,n.getAddOwnerTx({ownerAddress:a.ownerAddress,threshold:+a.threshold},{safeTxGas:0});case 6:r=t.sent,c=r.data.data,e&&j(c),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),Object(re.c)(re.b._811,t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!1}}),[w,u,p,a.ownerAddress,a.threshold]),Object(U.jsxs)(ae.a,{txData:l,onSubmit:r,onBack:t,children:[Object(U.jsx)(G.a,{onClose:n,title:"Add new owner",subTitle:Object(q.a)(3,3)}),Object(U.jsx)(D.a,{}),Object(U.jsxs)(H.a,{margin:"md",children:[Object(U.jsxs)(z.a,{className:c.root,children:[Object(U.jsx)(M.a,{layout:"column",xs:4,children:Object(U.jsxs)(H.a,{className:c.details,children:[Object(U.jsx)(H.a,{margin:"lg",children:Object(U.jsx)(F.a,{color:"primary",noMargin:!0,size:"lg",children:"Details"})}),Object(U.jsxs)(H.a,{margin:"lg",children:[Object(U.jsx)(F.a,{color:"disabled",noMargin:!0,size:"sm",children:"Safe name"}),Object(U.jsx)(F.a,{className:c.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder",children:O})]}),Object(U.jsxs)(H.a,{margin:"lg",children:[Object(U.jsx)(F.a,{color:"disabled",noMargin:!0,size:"sm",children:"Any transaction requires the confirmation of:"}),Object(U.jsx)(F.a,{className:c.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder",children:"".concat(a.threshold," out of ").concat(((null===g||void 0===g?void 0:g.length)||0)+1," owner(s)")})]})]})}),Object(U.jsxs)(M.a,{className:c.owners,layout:"column",xs:8,children:[Object(U.jsx)(z.a,{className:c.ownersTitle,children:Object(U.jsx)(F.a,{color:"primary",noMargin:!0,size:"lg",children:"".concat(((null===g||void 0===g?void 0:g.length)||0)+1," Safe owner(s)")})}),Object(U.jsx)(D.a,{}),null===g||void 0===g?void 0:g.map((function(e){return Object(U.jsxs)(o.Fragment,{children:[Object(U.jsx)(z.a,{className:c.owner,children:Object(U.jsx)(M.a,{align:"center",xs:12,children:Object(U.jsx)(ee.a,{hash:e.address,name:e.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object($.i)(e.address)})})}),Object(U.jsx)(D.a,{})]},e.address)})),Object(U.jsx)(z.a,{align:"center",className:c.info,children:Object(U.jsx)(oe,{noMargin:!0,children:"ADDING NEW OWNER \u2193"})}),Object(U.jsx)(D.a,{}),Object(U.jsx)(z.a,{className:c.selectedOwner,"data-testid":"add-owner-review",children:Object(U.jsx)(M.a,{align:"center",xs:12,children:Object(U.jsx)(ee.a,{hash:a.ownerAddress,name:a.ownerName,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object($.i)(a.ownerAddress)})})}),Object(U.jsx)(D.a,{})]})]}),Object(U.jsx)(D.a,{})]})]})},le=n(50),je=n(784),be=Object(k.a)({headingText:{fontSize:R.md},formContainer:{padding:"".concat(R.md," ").concat(R.lg),minHeight:"340px"},ownersText:{marginLeft:R.sm},buttonRow:{height:"84px",justifyContent:"center",gap:"16px"},inputRow:{position:"relative"},errorText:{position:"absolute",bottom:"-25px"}}),ue=n(2062),Oe=Object(y.a)(be),he=function(e){var t=e.onClickBack,n=e.onClose,r=e.onSubmit,a=e.initialValues,s=Oe(),o=Object(x.d)(V.a),i=o.owners,d=o.threshold,l=void 0===d?1:d,j=i?i.length+1:0;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(G.a,{onClose:n,title:"Add new owner",subTitle:Object(q.a)(2,3)}),Object(U.jsx)(D.a,{}),Object(U.jsx)(B.a,{initialValues:{threshold:a.threshold||l.toString()},onSubmit:function(e){r(e)},children:function(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(H.a,{className:s.formContainer,children:[Object(U.jsx)(z.a,{children:Object(U.jsx)(F.a,{className:s.headingText,weight:"bolder",children:"Set the required owner confirmations:"})}),Object(U.jsx)(z.a,{children:Object(U.jsx)(F.a,{weight:"bolder",children:"Any transaction requires the confirmation of:"})}),Object(U.jsxs)(z.a,{align:"center",className:s.inputRow,margin:"xl",children:[Object(U.jsx)(M.a,{xs:2,children:Object(U.jsx)(E.a,{"data-testid":"threshold-select-input",name:"threshold",render:function(e){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(ue.a,Object(c.a)(Object(c.a)({},e),{},{disableError:!0,children:Object(le.a)(Array(Number(j))).map((function(e,t){return Object(U.jsx)(je.a,{value:"".concat(t+1),children:t+1},t)}))})),e.meta.error&&e.meta.touched&&Object(U.jsx)(F.a,{className:s.errorText,color:"error",noMargin:!0,children:e.meta.error})]})},validate:Object(I.d)(I.p,I.o,Object(I.i)(1),Object(I.f)(j))})}),Object(U.jsx)(M.a,{xs:10,children:Object(U.jsxs)(F.a,{className:s.ownersText,color:"primary",noMargin:!0,size:"lg",children:["out of ",j," owner(s)"]})})]})]}),Object(U.jsx)(D.a,{}),Object(U.jsx)(z.a,{align:"center",className:s.buttonRow,children:Object(U.jsx)(g.b.Footer.Buttons,{cancelButtonProps:{onClick:t,text:"Back"},confirmButtonProps:{type:"submit",text:"Review",testId:"add-owner-threshold-next-btn"}})})]})}})]})},me=n(70),xe=n(31),ge=n(2070),fe=n(196),pe=n(73),we=function(){var e=Object(m.a)(h.a.mark((function e(t,n,r,a,s,o,i){var d,l,j;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.e)(o,n,r);case 2:return d=e.sent,e.next=5,d.getAddOwnerTx({ownerAddress:t.ownerAddress,threshold:+t.threshold},{safeTxGas:0});case 5:return l=e.sent,j=l.data.data,e.next=9,s(Object(v.b)({safeAddress:n,to:n,valueInWei:"0",txData:j,txNonce:a.safeNonce,safeTxGas:a.safeTxGas,ethParameters:a,notifiedTransaction:w.a.SETTINGS_CHANGE_TX,delayExecution:i}));case 9:Object(xe.d)(Object(c.a)(Object(c.a)({},ge.a.THRESHOLD.THRESHOLD),{},{label:t.threshold})),Object(xe.d)(Object(c.a)(Object(c.a)({},ge.a.THRESHOLD.OWNERS),{},{label:Object(V.a)(fe.a.getState()).owners.length}));case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,s,o){return e.apply(this,arguments)}}(),ve=function(e){var t=e.isOpen,n=e.onClose,r=Object(o.useState)("selectOwner"),a=Object(s.a)(r,2),i=a[0],d=a[1],l=Object(o.useState)({ownerName:"",ownerAddress:"",threshold:""}),j=Object(s.a)(l,2),b=j[0],u=j[1],O=Object(x.c)(),w=Object(pe.a)().safeAddress,v=Object(x.d)(V.c),y=Object(x.d)(f.g),S=Object(x.d)(me.a);Object(o.useEffect)((function(){return function(){d("selectOwner"),u({ownerName:"",ownerAddress:"",threshold:""})}}),[t]);var R=function(){"reviewAddOwner"===i?d("selectThreshold"):"selectThreshold"===i&&d("selectOwner")},k=function(){var e=Object(m.a)(h.a.mark((function e(t,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(),e.prev=1,e.next=4,we(b,w,v,t,O,y,r);case 4:O(Object(p.b)(Object(N.b)({name:b.ownerName,address:b.ownerAddress,chainId:S}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Object(re.c)(re.b._808,e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(U.jsx)(g.c,{description:"Add owner to Safe",handleClose:n,open:t,paperClassName:"bigger-modal-window",title:"Add owner to Safe",children:Object(U.jsxs)(U.Fragment,{children:["selectOwner"===i&&Object(U.jsx)(K,{initialValues:b,onClose:n,onSubmit:function(e){u((function(t){return Object(c.a)(Object(c.a)({},t),{},{ownerName:e.ownerName,ownerAddress:Object(C.a)(e.ownerAddress)})})),d("selectThreshold")}}),"selectThreshold"===i&&Object(U.jsx)(he,{onClickBack:R,initialValues:{threshold:b.threshold},onClose:n,onSubmit:function(e){u((function(t){return Object(c.a)(Object(c.a)({},t),{},{threshold:e.threshold})})),d("reviewAddOwner")}}),"reviewAddOwner"===i&&Object(U.jsx)(de,{onClickBack:R,onClose:n,onSubmit:k,values:b})]})})},Ce=Object(y.a)(Object(k.a)({heading:{padding:R.lg,justifyContent:"space-between",boxSizing:"border-box",height:"74px"},manage:{fontSize:R.lg},container:{padding:"".concat(R.md," ").concat(R.lg),minHeight:"200px"},close:{height:"35px",width:"35px"}})),Ne="rename-owner-input",ye="save-owner-changes-btn",Se=function(e){var t=e.isOpen,n=e.onClose,r=e.owner,a=Ce(),c=Object(x.c)(),s=Object(x.d)(me.a);return Object(U.jsxs)(g.c,{description:"Edit owner from Safe",handleClose:n,open:t,paperClassName:"smaller-modal-window",title:"Edit owner from Safe",children:[Object(U.jsx)(G.a,{onClose:n,title:"Edit owner name"}),Object(U.jsx)(D.a,{}),Object(U.jsx)(B.a,{onSubmit:function(e){var t=e.ownerName;t!==r.name&&c(Object(p.b)(Object(N.b)({address:r.address,name:t,chainId:s}))),n()},subscription:{pristine:!0},children:function(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c];var s=t[2].pristine;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(H.a,{className:a.container,children:[Object(U.jsx)(z.a,{margin:"md",children:Object(U.jsx)(E.a,{component:P.a,initialValue:r.name,name:"ownerName",placeholder:"Owner name*",testId:Ne,label:"Owner name*",type:"text",validate:Object(I.d)(I.p,I.r)})}),Object(U.jsx)(z.a,{children:Object(U.jsx)(H.a,{justify:"center",children:Object(U.jsx)(ee.a,{hash:r.address,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object($.i)(r.address)})})})]}),Object(U.jsx)(g.b.Footer,{children:Object(U.jsx)(g.b.Footer.Buttons,{cancelButtonProps:{onClick:n},confirmButtonProps:{disabled:s,testId:ye,text:"Save"}})})]})}})]})},Re=Object(y.a)(Object(k.a)({formContainer:{padding:"".concat(R.md," ").concat(R.lg),minHeight:"340px"}})),ke=function(e){var t=e.onClose,n=e.onSubmit,r=e.owner,a=Re();return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(G.a,{onClose:t,subTitle:Object(q.a)(1,3),title:"Remove owner"}),Object(U.jsx)(D.a,{}),Object(U.jsxs)(H.a,{className:a.formContainer,children:[Object(U.jsx)(z.a,{margin:"md",children:Object(U.jsx)(F.a,{size:"lg",children:"Review the owner you want to remove from the active Safe:"})}),Object(U.jsx)(z.a,{children:Object(U.jsx)(M.a,{align:"center",xs:12,children:Object(U.jsx)(ee.a,{hash:r.address,name:r.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object($.i)(r.address)})})})]}),Object(U.jsx)(g.b.Footer,{children:Object(U.jsx)(g.b.Footer.Buttons,{cancelButtonProps:{onClick:t},confirmButtonProps:{onClick:n,testId:"remove-owner-next-btn",text:"Next"}})})]})},_e=Object(y.a)(Object(k.a)({root:{height:"372px"},info:{backgroundColor:R.background,padding:R.sm,justifyContent:"center",textAlign:"center",flexDirection:"column"},details:{padding:R.lg,borderRight:"solid 1px ".concat(R.border),height:"100%"},owners:{overflow:"auto",height:"100%"},ownersTitle:{padding:"".concat(R.sm," ").concat(R.lg)},owner:{padding:"".concat(R.sm," ").concat(R.lg),alignItems:"center"},name:{textOverflow:"ellipsis",overflow:"hidden"},selectedOwner:{padding:"".concat(R.sm," ").concat(R.lg),alignItems:"center",backgroundColor:"#ffe6ea"}})),Te=n(41),Ae=n(688),Ee=function(e){var t=e.onClickBack,n=e.onClose,r=e.onSubmit,a=e.owner,c=e.threshold,i=void 0===c?1:c,d=_e(),l=Object(o.useState)(""),j=Object(s.a)(l,2),b=j[0],u=j[1],O=Object(x.d)(V.i),g=O.address,p=O.name,w=O.owners,v=O.currentVersion,C=Object(x.d)(f.g),N=w?w.length-1:0;return Object(o.useEffect)((function(){var e=!0;if(i){var t=function(){var t=Object(m.a)(h.a.mark((function t(){var n,r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ne.e)(C,g,v);case 3:return n=t.sent,t.next=6,n.getRemoveOwnerTx({ownerAddress:a.address,threshold:+i},{safeTxGas:0});case 6:r=t.sent,c=r.data.data,e&&u(c),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),Object(re.c)(Ae.a._812,t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!1}}console.error("Threshold value was not define, tx can't be executed")}),[g,v,C,a.address,i]),Object(U.jsxs)(ae.a,{txData:b,onSubmit:r,onBack:t,children:[Object(U.jsx)(G.a,{onClose:n,title:"Remove owner",subTitle:Object(q.a)(3,3)}),Object(U.jsx)(D.a,{}),Object(U.jsxs)(H.a,{margin:"md",children:[Object(U.jsxs)(z.a,{className:d.root,children:[Object(U.jsx)(M.a,{layout:"column",xs:4,children:Object(U.jsxs)(H.a,{className:d.details,children:[Object(U.jsx)(H.a,{margin:"lg",children:Object(U.jsx)(F.a,{color:"primary",noMargin:!0,size:"lg",children:"Details"})}),Object(U.jsxs)(H.a,{margin:"lg",children:[Object(U.jsx)(F.a,{color:"disabled",noMargin:!0,size:"sm",children:"Safe name"}),Object(U.jsx)(F.a,{className:d.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder",children:p})]}),Object(U.jsxs)(H.a,{margin:"lg",children:[Object(U.jsx)(F.a,{color:"disabled",noMargin:!0,size:"sm",children:"Any transaction requires the confirmation of:"}),Object(U.jsx)(F.a,{className:d.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder",children:"".concat(i," out of ").concat(N," owner(s)")})]})]})}),Object(U.jsxs)(M.a,{className:d.owners,layout:"column",xs:8,children:[Object(U.jsx)(z.a,{className:d.ownersTitle,children:Object(U.jsx)(F.a,{color:"primary",noMargin:!0,size:"lg",children:"".concat(N," Safe owner(s)")})}),Object(U.jsx)(D.a,{}),null===w||void 0===w?void 0:w.map((function(e){return!Object(Te.f)(e.address,a.address)&&Object(U.jsxs)(o.Fragment,{children:[Object(U.jsx)(z.a,{className:d.owner,children:Object(U.jsx)(M.a,{align:"center",xs:12,children:Object(U.jsx)(ee.a,{hash:e.address,name:e.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object($.i)(e.address)})})}),Object(U.jsx)(D.a,{})]},e.address)})),Object(U.jsx)(z.a,{align:"center",className:d.info,children:Object(U.jsx)(oe,{noMargin:!0,children:"REMOVING OWNER \u2193"})}),Object(U.jsx)(D.a,{}),Object(U.jsx)(z.a,{className:d.selectedOwner,"data-testid":"remove-owner-review",children:Object(U.jsx)(M.a,{align:"center",xs:12,children:Object(U.jsx)(ee.a,{hash:a.address,name:a.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object($.i)(a.address)})})}),Object(U.jsx)(D.a,{})]})]}),Object(U.jsx)(D.a,{})]})]})},Be=Object(y.a)(Object(k.a)({headingText:{fontSize:R.md},formContainer:{padding:"".concat(R.md," ").concat(R.lg),minHeight:"340px"},ownersText:{marginLeft:R.sm},inputRow:{position:"relative"},errorText:{position:"absolute",bottom:"-25px"}})),Pe=function(e){var t,n=e.onClickBack,r=e.onClose,a=e.onSubmit,s=e.initialValues,o=Be(),i=Object(x.d)(V.a),d=i.owners,l=i.threshold,j=void 0===l?1:l,b=null!==(t=null===d||void 0===d?void 0:d.length)&&void 0!==t?t:0,u=j>1&&j===b?j-1:j;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(G.a,{onClose:r,subTitle:Object(q.a)(2,3),title:"Remove owner"}),Object(U.jsx)(D.a,{}),Object(U.jsx)(B.a,{initialValues:{threshold:s.threshold||u.toString()},onSubmit:function(e){a(e)},children:function(){var e=b>1?b-1:1;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(H.a,{className:o.formContainer,children:[Object(U.jsx)(z.a,{children:Object(U.jsx)(F.a,{className:o.headingText,weight:"bolder",children:"Set the required owner confirmations:"})}),Object(U.jsx)(z.a,{children:Object(U.jsx)(F.a,{weight:"bolder",children:"Any transaction requires the confirmation of:"})}),Object(U.jsxs)(z.a,{align:"center",className:o.inputRow,margin:"xl",children:[Object(U.jsx)(M.a,{xs:2,children:Object(U.jsx)(E.a,{"data-testid":"threshold-select-input",name:"threshold",render:function(t){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(ue.a,Object(c.a)(Object(c.a)({},t),{},{disableError:!0,children:Object(le.a)(Array(Number(e))).map((function(e,t){return Object(U.jsx)(je.a,{value:"".concat(t+1),children:t+1},t)}))})),t.meta.error&&t.meta.touched&&Object(U.jsx)(F.a,{className:o.errorText,color:"error",noMargin:!0,children:t.meta.error})]})},validate:Object(I.d)(I.p,I.o,Object(I.i)(1),Object(I.f)(e))})}),Object(U.jsx)(M.a,{xs:10,children:Object(U.jsxs)(F.a,{className:o.ownersText,color:"primary",noMargin:!0,size:"lg",children:["out of ",b?b-1:0," owner(s)"]})})]})]}),Object(U.jsx)(g.b.Footer,{children:Object(U.jsx)(g.b.Footer.Buttons,{cancelButtonProps:{onClick:n,text:"Back"},confirmButtonProps:{testId:"remove-owner-threshold-next-btn",text:"Review"}})})]})}})]})},Ie=function(){var e=Object(m.a)(h.a.mark((function e(t,n,r,a,s,o,i,d){var l,j,b;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.e)(i,n,r);case 2:return l=e.sent,e.next=5,l.getRemoveOwnerTx({ownerAddress:a,threshold:+t.threshold},{safeTxGas:0});case 5:j=e.sent,b=j.data.data,s(Object(v.b)({safeAddress:n,to:n,valueInWei:"0",txData:b,txNonce:o.safeNonce,safeTxGas:o.safeTxGas,ethParameters:o,notifiedTransaction:w.a.SETTINGS_CHANGE_TX,delayExecution:d})),Object(xe.d)(Object(c.a)(Object(c.a)({},ge.a.THRESHOLD.THRESHOLD),{},{label:t.threshold})),Object(xe.d)(Object(c.a)(Object(c.a)({},ge.a.THRESHOLD.OWNERS),{},{label:Object(V.a)(fe.a.getState()).owners.length}));case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,s,o,i){return e.apply(this,arguments)}}(),He=function(e){var t=e.isOpen,n=e.onClose,r=e.owner,a=Object(o.useState)("checkOwner"),i=Object(s.a)(a,2),d=i[0],l=i[1],j=Object(o.useState)(Object(c.a)(Object(c.a)({},r),{},{threshold:""})),b=Object(s.a)(j,2),u=b[0],O=b[1],p=Object(x.c)(),w=Object(pe.a)().safeAddress,v=Object(x.d)(V.c),C=Object(x.d)(f.g);Object(o.useEffect)((function(){return function(){l("checkOwner")}}),[t]);var N=function(){"reviewRemoveOwner"===d?l("selectThreshold"):"selectThreshold"===d&&l("checkOwner")},y=function(){var e=Object(m.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(),e.prev=1,e.next=4,Ie(u,w,v,r.address,p,t,C,a);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),Object(re.c)(re.b._809,e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(U.jsx)(g.c,{description:"Remove owner from Safe",handleClose:n,open:t,paperClassName:"bigger-modal-window",title:"Remove owner from Safe",children:Object(U.jsxs)(U.Fragment,{children:["checkOwner"===d&&Object(U.jsx)(ke,{onClose:n,onSubmit:function(){l("selectThreshold")},owner:r}),"selectThreshold"===d&&Object(U.jsx)(Pe,{onClickBack:N,initialValues:{threshold:u.threshold},onClose:n,onSubmit:function(e){var t=Object(c.a)(Object(c.a)({},u),{},{threshold:e.threshold});O(t),l("reviewRemoveOwner")}}),"reviewRemoveOwner"===d&&Object(U.jsx)(Ee,{onClickBack:N,onClose:n,onSubmit:y,owner:r,threshold:Number(u.threshold)})]})})},Me=Object(y.a)(Object(k.a)({formContainer:{padding:"".concat(R.md," ").concat(R.lg),minHeight:"340px"},owner:{alignItems:"center"},address:{marginRight:R.sm}})),De="replace-owner-name-input",Fe="replace-owner-address-testid",ze="replace-owner-next-btn",We={setOwnerAddress:function(e,t,n){n.changeValue(t,"ownerAddress",(function(){return e[0]}))},setOwnerName:function(e,t,n){n.changeValue(t,"ownerName",(function(){return e[0]}))}},Ve=function(e){var t=e.onClose,n=e.onSubmit,r=e.owner,a=e.initialValues,c=Me(),s=Object(x.d)(W.f),o=Object(x.d)(V.a),i=o.address,d=void 0===i?"":i,l=o.owners,j=Object(I.q)(l),b=Object(I.c)(d);return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(G.a,{onClose:t,title:"Replace owner",subTitle:Object(q.a)(1,2)}),Object(U.jsx)(D.a,{}),Object(U.jsx)(B.a,{formMutators:We,onSubmit:function(e){n(e)},initialValues:{ownerName:null===a||void 0===a?void 0:a.name,ownerAddress:null===a||void 0===a?void 0:a.address},children:function(){var e=arguments.length<=3?void 0:arguments[3],n=function(t,n){var r=t;r.startsWith("ethereum:")&&(r=r.replace("ethereum:","")),e.setOwnerAddress(r),n()};return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(H.a,{className:c.formContainer,children:[Object(U.jsx)(z.a,{children:Object(U.jsx)(F.a,{children:"Review the owner you want to replace from the active Safe. Then specify the new owner you want to replace it with:"})}),Object(U.jsx)(z.a,{children:Object(U.jsx)(F.a,{children:"Current owner"})}),Object(U.jsx)(z.a,{className:c.owner,children:Object(U.jsx)(M.a,{align:"center",xs:12,children:Object(U.jsx)(ee.a,{hash:r.address,name:r.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object($.i)(r.address)})})}),Object(U.jsx)(z.a,{children:Object(U.jsx)(F.a,{children:"New owner"})}),Object(U.jsx)(z.a,{margin:"md",children:Object(U.jsxs)(M.a,{xs:8,children:[Object(U.jsx)(E.a,{component:P.a,name:"ownerName",placeholder:"Owner name*",testId:De,label:"Owner name*",type:"text",validate:Object(I.d)(I.p,I.r)}),Object(U.jsx)(S.a,{name:"ownerAddress",children:function(){var t=Object(m.a)(h.a.mark((function t(n){var r,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(L.a)(n)&&(a=null===(r=s[n])||void 0===r?void 0:r.name)&&e.setOwnerName(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})]})}),Object(U.jsxs)(z.a,{margin:"md",children:[Object(U.jsx)(M.a,{xs:8,children:Object(U.jsx)(A.a,{fieldMutator:e.setOwnerAddress,name:"ownerAddress",placeholder:"Owner address*",testId:Fe,text:"Owner address*",validators:[j,b]})}),Object(U.jsx)(M.a,{center:"xs",className:c,middle:"xs",xs:1,children:Object(U.jsx)(T.a,{handleScan:n})})]})]}),Object(U.jsx)(g.b.Footer,{children:Object(U.jsx)(g.b.Footer.Buttons,{cancelButtonProps:{onClick:t},confirmButtonProps:{testId:ze,text:"Next"}})})]})}})]})},Le=Object(y.a)(Object(k.a)({root:{height:"372px"},info:{backgroundColor:R.background,padding:R.sm,justifyContent:"center",textAlign:"center",flexDirection:"column"},details:{padding:R.lg,borderRight:"solid 1px ".concat(R.border),height:"100%"},owners:{overflow:"auto",height:"100%"},ownersTitle:{padding:"".concat(R.sm," ").concat(R.lg)},owner:{padding:"".concat(R.sm," ").concat(R.lg),alignItems:"center"},name:{textOverflow:"ellipsis",overflow:"hidden"},selectedOwnerRemoved:{padding:"".concat(R.sm," ").concat(R.lg),alignItems:"center",backgroundColor:"#ffe6ea"},selectedOwnerAdded:{padding:"".concat(R.sm," ").concat(R.lg),alignItems:"center"}})),Ge=function(e){var t=e.onClickBack,n=e.onClose,r=e.onSubmit,a=e.owner,c=e.newOwner,i=Le(),d=Object(o.useState)(""),l=Object(s.a)(d,2),j=l[0],b=l[1],u=Object(x.d)(V.i),O=u.address,g=u.name,p=u.owners,w=u.threshold,v=void 0===w?1:w,C=u.currentVersion,N=Object(x.d)(f.g);return Object(o.useEffect)((function(){var e=!0,t=function(){var t=Object(m.a)(h.a.mark((function t(){var n,r,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ne.e)(N,O,C);case 3:return n=t.sent,t.next=6,n.getSwapOwnerTx({oldOwnerAddress:a.address,newOwnerAddress:c.address},{safeTxGas:0});case 6:r=t.sent,s=r.data.data,e&&b(s),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),Object(re.c)(re.b._813,t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!1}}),[O,C,N,a.address,c.address]),Object(U.jsxs)(ae.a,{txData:j,onSubmit:r,onBack:t,children:[Object(U.jsx)(G.a,{onClose:n,title:"Replace owner",subTitle:Object(q.a)(2,2)}),Object(U.jsx)(D.a,{}),Object(U.jsxs)(H.a,{margin:"md",children:[Object(U.jsxs)(z.a,{className:i.root,children:[Object(U.jsx)(M.a,{layout:"column",xs:4,children:Object(U.jsxs)(H.a,{className:i.details,children:[Object(U.jsx)(H.a,{margin:"lg",children:Object(U.jsx)(F.a,{color:"primary",noMargin:!0,size:"lg",children:"Details"})}),Object(U.jsxs)(H.a,{margin:"lg",children:[Object(U.jsx)(F.a,{color:"disabled",noMargin:!0,size:"sm",children:"Safe name"}),Object(U.jsx)(F.a,{className:i.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder",children:g})]}),Object(U.jsxs)(H.a,{margin:"lg",children:[Object(U.jsx)(F.a,{color:"disabled",noMargin:!0,size:"sm",children:"Any transaction requires the confirmation of:"}),Object(U.jsx)(F.a,{className:i.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder",children:"".concat(v," out of ").concat((null===p||void 0===p?void 0:p.length)||0," owner(s)")})]})]})}),Object(U.jsxs)(M.a,{className:i.owners,layout:"column",xs:8,children:[Object(U.jsx)(z.a,{className:i.ownersTitle,children:Object(U.jsx)(F.a,{color:"primary",noMargin:!0,size:"lg",children:"".concat((null===p||void 0===p?void 0:p.length)||0," Safe owner(s)")})}),Object(U.jsx)(D.a,{}),null===p||void 0===p?void 0:p.map((function(e){return!Object(Te.f)(e.address,a.address)&&Object(U.jsxs)(o.Fragment,{children:[Object(U.jsx)(z.a,{className:i.owner,children:Object(U.jsx)(M.a,{align:"center",xs:12,children:Object(U.jsx)(ee.a,{hash:e.address,name:e.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object($.i)(e.address)})})}),Object(U.jsx)(D.a,{})]},e.address)})),Object(U.jsx)(z.a,{align:"center",className:i.info,children:Object(U.jsx)(oe,{noMargin:!0,children:"REMOVING OWNER \u2193"})}),Object(U.jsx)(D.a,{}),Object(U.jsx)(z.a,{className:i.selectedOwnerRemoved,"data-testid":"remove-owner-review",children:Object(U.jsx)(M.a,{align:"center",xs:12,children:Object(U.jsx)(ee.a,{hash:a.address,name:a.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object($.i)(a.address)})})}),Object(U.jsx)(z.a,{align:"center",className:i.info,children:Object(U.jsx)(oe,{noMargin:!0,children:"ADDING NEW OWNER \u2193"})}),Object(U.jsx)(D.a,{}),Object(U.jsx)(z.a,{className:i.selectedOwnerAdded,"data-testid":"add-owner-review",children:Object(U.jsx)(M.a,{align:"center",xs:12,children:Object(U.jsx)(ee.a,{hash:c.address,name:c.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object($.i)(c.address)})})}),Object(U.jsx)(D.a,{})]})]}),Object(U.jsx)(D.a,{})]})]})},qe=function(){var e=Object(m.a)(h.a.mark((function e(t,n,r,a,c,s,o,i){var d,l,j;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.e)(o,n,r);case 2:return d=e.sent,e.next=5,d.getSwapOwnerTx({oldOwnerAddress:a,newOwnerAddress:t.address},{safeTxGas:0});case 5:return l=e.sent,j=l.data.data,e.next=9,c(Object(v.b)({safeAddress:n,to:n,valueInWei:"0",txData:j,txNonce:s.safeNonce,safeTxGas:s.safeTxGas,ethParameters:s,notifiedTransaction:w.a.SETTINGS_CHANGE_TX,delayExecution:i}));case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,s,o,i){return e.apply(this,arguments)}}(),Ue=function(e){var t=e.isOpen,n=e.onClose,r=e.owner,a=Object(o.useState)("checkOwner"),i=Object(s.a)(a,2),d=i[0],l=i[1],j=Object(o.useState)({address:"",name:""}),b=Object(s.a)(j,2),u=b[0],O=b[1],w=Object(x.c)(),v=Object(pe.a)().safeAddress,y=Object(x.d)(V.c),S=Object(x.d)(f.g);Object(o.useEffect)((function(){return function(){l("checkOwner"),O({address:"",name:""})}}),[t]);var R=function(){var e=Object(m.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(),e.prev=1,e.next=4,qe(u,v,y,r.address,w,t,S,a);case 4:w(Object(p.b)(Object(N.b)(Object(c.a)(Object(c.a)({},u),{},{chainId:Object($.b)()})))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Object(re.c)(re.b._810,e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(U.jsx)(g.c,{description:"Replace owner from Safe",handleClose:n,open:t,paperClassName:"bigger-modal-window",title:"Replace owner from Safe",children:Object(U.jsxs)(U.Fragment,{children:["checkOwner"===d&&Object(U.jsx)(Ve,{onClose:n,onSubmit:function(e){var t=e.ownerAddress,n=e.ownerName;if(Object(L.a)(t)){var r=Object(C.a)(t);O({address:r,name:n}),l("reviewReplaceOwner")}},initialValues:u,owner:r}),"reviewReplaceOwner"===d&&Object(U.jsx)(Ge,{onClickBack:function(){return l("checkOwner")},onClose:n,onSubmit:R,owner:r,newOwner:u})]})})},Xe=n(95),Qe="name",Ze="address",Ye=Object(y.a)(Object(k.a)({formContainer:{minHeight:"420px"},title:{padding:R.lg,paddingBottom:0},annotation:{paddingLeft:R.lg},hide:{"&:hover":{backgroundColor:"".concat(R.background)},"&:hover $actions":{visibility:"initial"}},actions:{justifyContent:"flex-end",visibility:"hidden",minWidth:"100px",gap:"16px"},noBorderBottom:{"& > td":{borderBottom:"none"}},editOwnerIcon:{cursor:"pointer"},replaceOwnerIcon:{marginLeft:R.lg,cursor:"pointer"},controlsRow:{backgroundColor:"white",padding:R.lg,borderRadius:R.sm},removeOwnerIcon:{marginLeft:R.lg,cursor:"pointer"}})),Je=n(2084),Ke=n(2090),$e=n(2071),et=n(170),tt=n(2074),nt=n(108),rt="rename-owner-btn",at="remove-owner-btn",ct="add-owner-btn",st="replace-owner-btn",ot="owners-row";t.default=function(e){var t=e.granted,n=e.owners,r=Ye(),b=Object(o.useState)(),O=Object(s.a)(b,2),h=O[0],m=O[1],x=Object(o.useState)({showAddOwner:!1,showRemoveOwner:!1,showReplaceOwner:!1,showEditOwner:!1}),g=Object(s.a)(x,2),f=g[0],p=g[1],w=function(e,t){return function(){p((function(t){return Object(c.a)(Object(c.a)({},t),{},Object(a.a)({},"show".concat(e),!t["show".concat(e)]))})),t&&m(t)}},v=function(e){return function(){p((function(t){return Object(c.a)(Object(c.a)({},t),{},Object(a.a)({},"show".concat(e),!Boolean(t["show".concat(e)])))})),m(void 0)}},C=function(){var e={id:Qe,order:!1,formatTypeSort:function(e){return e.toLowerCase()},disablePadding:!1,label:"Name",width:150,custom:!1,align:"left"},t={id:Ze,order:!1,disablePadding:!1,label:"Address",custom:!1,align:"left"},n={id:"actions",order:!1,disablePadding:!1,label:"",custom:!0};return Object(Xe.a)([e,t,n])}(),N=C.filter((function(e){return!e.custom})),y=function(e){return e.map((function(e){var t;return t={},Object(a.a)(t,Qe,e.name),Object(a.a)(t,Ze,e.address),t}))}(n);return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(H.a,{className:r.formContainer,children:[Object(U.jsx)(tt.a,{className:r.title,tag:"h2",children:"Manage Safe Owners"}),Object(U.jsx)(F.a,{className:r.annotation,children:"Add, remove and replace owners or rename existing owners. Owner names are only stored locally and never shared with Gnosis or any third parties."}),Object(U.jsx)(l.a,{children:Object(U.jsx)(Ke.a,{columns:C,data:y,defaultFixed:!0,defaultOrderBy:Ze,disablePagination:!0,label:"Owners",noBorder:!0,size:y.length,children:function(e){return e.map((function(n,a){return Object(U.jsxs)(j.a,{className:u()(r.hide,a>=3&&a===e.size-1&&r.noBorderBottom),"data-testid":ot,children:[N.map((function(e){return Object(U.jsx)(d.a,{align:e.align,component:"td",style:Object($e.a)(e.width),children:e.id===Ze?Object(U.jsx)(H.a,{justify:"left",children:Object(U.jsx)(ee.a,{hash:n[e.id],showCopyBtn:!0,showAvatar:!0,explorerUrl:Object($.i)(n[e.id])})}):n[e.id]},e.id)})),Object(U.jsx)(d.a,{component:"td",children:Object(U.jsxs)(z.a,{align:"end",className:r.actions,children:[Object(U.jsx)(nt.a,Object(c.a)(Object(c.a)({},ge.a.OWNERS.EDIT_OWNER),{},{children:Object(U.jsx)(Je.a,{onClick:w("EditOwner",n),dataTestId:rt,children:Object(U.jsx)(i.Icon,{size:"sm",type:"edit",color:"icon",tooltip:"Edit owner"})})})),t&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(nt.a,Object(c.a)(Object(c.a)({},ge.a.OWNERS.REPLACE_OWNER),{},{children:Object(U.jsx)(Je.a,{onClick:w("ReplaceOwner",n),dataTestId:st,children:Object(U.jsx)(i.Icon,{size:"sm",type:"replaceOwner",color:"icon",tooltip:"Replace owner"})})})),y.length>1&&Object(U.jsx)(nt.a,Object(c.a)(Object(c.a)({},ge.a.OWNERS.REMOVE_OWNER),{},{children:Object(U.jsx)(Je.a,{onClick:w("RemoveOwner",n),dataTestId:at,children:Object(U.jsx)(i.Icon,{size:"sm",type:"delete",color:"error",tooltip:"Remove owner"})})}))]})]})})]},a)}))}})})]}),t&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(D.a,{}),Object(U.jsx)(z.a,{align:"end",className:r.controlsRow,grow:!0,children:Object(U.jsx)(M.a,{end:"xs",children:Object(U.jsx)(nt.a,Object(c.a)(Object(c.a)({},ge.a.OWNERS.ADD_OWNER),{},{children:Object(U.jsx)(et.a,{color:"primary",onClick:w("AddOwner"),size:"small",testId:ct,variant:"contained",children:"Add new owner"})}))})})]}),Object(U.jsx)(ve,{isOpen:f.showAddOwner,onClose:v("AddOwner")}),h&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(He,{isOpen:f.showRemoveOwner,onClose:v("RemoveOwner"),owner:h}),Object(U.jsx)(Ue,{isOpen:f.showReplaceOwner,onClose:v("ReplaceOwner"),owner:h}),Object(U.jsx)(Se,{isOpen:f.showEditOwner,onClose:v("EditOwner"),owner:h})]})]})}}}]);
//# sourceMappingURL=35.3434eb25.chunk.js.map